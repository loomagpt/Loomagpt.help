<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="6a97888e-site-verification" content="d45bd746851e375cc8388325a7b2429d">
    <!-- ExoClick CH Delegation -->
    <meta http-equiv="Delegate-CH" content="Sec-CH-UA https://s.magsrv.com; Sec-CH-UA-Mobile https://s.magsrv.com; Sec-CH-UA-Arch https://s.magsrv.com; Sec-CH-UA-Model https://s.magsrv.com; Sec-CH-UA-Platform https://s.magsrv.com; Sec-CH-UA-Platform-Version https://s.magsrv.com; Sec-CH-UA-Bitness https://s.magsrv.com; Sec-CH-UA-Full-Version-List https://s.magsrv.com; Sec-CH-UA-Full-Version https://s.magsrv.com;">
    <meta http-equiv="Delegate-CH" content="Sec-CH-UA https://s.pemsrv.com; Sec-CH-UA-Mobile https://s.pemsrv.com; Sec-CH-UA-Arch https://s.pemsrv.com; Sec-CH-UA-Model https://s.pemsrv.com; Sec-CH-UA-Platform https://s.pemsrv.com; Sec-CH-UA-Platform-Version https://s.pemsrv.com; Sec-CH-UA-Bitness https://s.pemsrv.com; Sec-CH-UA-Full-Version-List https://s.pemsrv.com; Sec-CH-UA-Full-Version https://s.pemsrv.com;">
    <title>LOOMA APP STORE</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ðŸ“±</text></svg>">
    <style>
        /* ===== RESET & BASE STYLES ===== */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', -apple-system, BlinkMacSystemFont, sans-serif;
        }

        :root {
            --primary: #E50914;
            --primary-dark: #B2070F;
            --dark: #141414;
            --dark-light: #2F2F2F;
            --gray: #808080;
            --light-gray: #E5E5E5;
            --white: #FFFFFF;
            --card-shadow: 0 2px 8px rgba(0, 0, 0, 0.6);
            --header-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
        }

        body {
            background-color: var(--dark);
            color: var(--white);
            line-height: 1.6;
            overflow-x: hidden;
        }

        /* ===== LAYOUT COMPONENTS ===== */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 16px;
        }

        .view {
            display: none;
            min-height: 100vh;
            padding-bottom: 80px;
        }

        .view.active {
            display: block;
        }

        /* ===== SPLASH SCREEN ===== */
        #splash {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--dark);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            transition: opacity 0.5s ease;
        }

        .splash-logo {
            font-size: 48px;
            font-weight: bold;
            color: var(--primary);
            margin-bottom: 20px;
        }

        .splash-loader {
            width: 50px;
            height: 50px;
            border: 4px solid rgba(229, 9, 20, 0.3);
            border-top: 4px solid var(--primary);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* ===== HEADER ===== */
        header {
            background: var(--dark);
            box-shadow: var(--header-shadow);
            position: sticky;
            top: 0;
            z-index: 100;
            padding: 12px 0;
        }

        .header-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 16px;
        }

        .logo {
            font-size: 28px;
            font-weight: bold;
            color: var(--primary);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .header-actions {
            display: flex;
            gap: 16px;
            align-items: center;
        }

        .search-btn, .menu-btn {
            background: none;
            border: none;
            font-size: 20px;
            color: var(--white);
            cursor: pointer;
            padding: 8px;
            border-radius: 50%;
            transition: background-color 0.2s;
        }

        .search-btn:hover, .menu-btn:hover {
            background-color: var(--dark-light);
        }

        /* ===== BOTTOM NAVIGATION ===== */
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            background: var(--dark);
            box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.5);
            display: flex;
            justify-content: space-around;
            padding: 12px 0;
            z-index: 100;
        }

        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 4px;
            color: var(--gray);
            font-size: 12px;
            text-decoration: none;
            transition: color 0.2s;
            cursor: pointer;
        }

        .nav-item.active {
            color: var(--primary);
        }

        .nav-icon {
            font-size: 20px;
        }

        /* ===== HOME PAGE ===== */
        .hero-banner {
            position: relative;
            height: 70vh;
            background: linear-gradient(rgba(0,0,0,0.5), rgba(0,0,0,0.7)), url('https://cdn.leonardo.ai/users/59cc19c6-be61-41ed-ab82-8485d4d58d54/generations/146d2d9f-a0d7-490e-974e-7b96af7d6356/Phoenix_10_Create_a_logo_for_Looma_APP_STORE_with_a_design_sim_1.jpg');
            background-size: cover;
            background-position: center;
            display: flex;
            flex-direction: column;
            justify-content: center;
            padding: 0 40px;
            margin-bottom: 40px;
        }

        .hero-content {
            max-width: 600px;
        }

        .hero-title {
            font-size: 3rem;
            font-weight: bold;
            margin-bottom: 16px;
        }

        .hero-description {
            font-size: 1.2rem;
            margin-bottom: 24px;
            color: var(--light-gray);
        }

        .hero-actions {
            display: flex;
            gap: 16px;
        }

        .hero-btn {
            padding: 12px 24px;
            border: none;
            border-radius: 4px;
            font-size: 1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
        }

        .primary-btn {
            background: var(--primary);
            color: var(--white);
        }

        .primary-btn:hover {
            background: var(--primary-dark);
        }

        .secondary-btn {
            background: rgba(255, 255, 255, 0.2);
            color: var(--white);
        }

        .secondary-btn:hover {
            background: rgba(255, 255, 255, 0.3);
        }

        .section-title {
            font-size: 1.5rem;
            font-weight: 600;
            margin: 24px 0 16px;
            padding: 0 16px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .see-all {
            color: var(--primary);
            font-size: 14px;
            text-decoration: none;
        }

        .carousel {
            display: flex;
            gap: 16px;
            padding: 0 16px;
            overflow-x: auto;
            scrollbar-width: none;
            -ms-overflow-style: none;
        }

        .carousel::-webkit-scrollbar {
            display: none;
        }

        .carousel-item {
            flex: 0 0 280px;
            background: var(--dark-light);
            border-radius: 8px;
            overflow: hidden;
            box-shadow: var(--card-shadow);
            cursor: pointer;
            transition: transform 0.3s;
        }

        .carousel-item:hover {
            transform: scale(1.05);
        }

        .carousel-image {
            width: 100%;
            height: 160px;
            background: var(--gray);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 40px;
            color: var(--white);
        }

        .carousel-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .carousel-content {
            padding: 16px;
        }

        .carousel-content h3 {
            font-size: 16px;
            margin-bottom: 8px;
        }

        .carousel-content p {
            font-size: 14px;
            color: var(--gray);
        }

        .apps-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 16px;
            padding: 0 16px;
        }

        @media (min-width: 768px) {
            .apps-grid {
                grid-template-columns: repeat(4, 1fr);
            }
        }

        @media (min-width: 1024px) {
            .apps-grid {
                grid-template-columns: repeat(6, 1fr);
            }
        }

        .app-card {
            background: var(--dark-light);
            border-radius: 8px;
            overflow: hidden;
            box-shadow: var(--card-shadow);
            transition: transform 0.3s;
            cursor: pointer;
        }

        .app-card:hover {
            transform: scale(1.05);
        }

        .app-icon {
            width: 100%;
            height: 120px;
            background: var(--gray);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 40px;
            color: var(--white);
        }

        .app-icon img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .app-info {
            padding: 12px;
        }

        .app-name {
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 4px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .app-developer {
            font-size: 12px;
            color: var(--gray);
            margin-bottom: 8px;
        }

        .app-rating {
            display: flex;
            align-items: center;
            gap: 4px;
            margin-bottom: 8px;
        }

        .stars {
            color: var(--primary);
        }

        .rating-value {
            font-size: 12px;
            color: var(--gray);
        }

        .download-btn {
            background: var(--primary);
            color: var(--white);
            border: none;
            border-radius: 4px;
            padding: 8px 16px;
            font-size: 12px;
            font-weight: 600;
            cursor: pointer;
            width: 100%;
            transition: background-color 0.2s;
        }

        .download-btn:hover {
            background: var(--primary-dark);
        }

        .categories-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 16px;
            padding: 0 16px;
        }

        .category-card {
            background: var(--dark-light);
            border-radius: 8px;
            padding: 20px;
            text-align: center;
            box-shadow: var(--card-shadow);
            transition: transform 0.2s;
            cursor: pointer;
        }

        .category-card:hover {
            transform: translateY(-4px);
        }

        .category-icon {
            font-size: 32px;
            margin-bottom: 8px;
            color: var(--primary);
        }

        .category-name {
            font-size: 14px;
            font-weight: 600;
        }

        /* ===== SEARCH PAGE ===== */
        .search-header {
            background: var(--dark);
            padding: 16px;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .search-input-container {
            flex: 1;
            position: relative;
        }

        .search-input {
            width: 100%;
            padding: 12px 16px;
            background: var(--dark-light);
            border: 1px solid var(--gray);
            border-radius: 4px;
            font-size: 16px;
            outline: none;
            color: var(--white);
        }

        .search-input:focus {
            border-color: var(--primary);
        }

        .cancel-search {
            color: var(--primary);
            font-size: 16px;
            cursor: pointer;
        }

        .search-history {
            background: var(--dark-light);
            margin: 16px;
            border-radius: 8px;
            padding: 16px;
            box-shadow: var(--card-shadow);
        }

        .search-history h3 {
            font-size: 16px;
            margin-bottom: 12px;
        }

        .history-items {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
        }

        .history-item {
            background: var(--dark);
            padding: 8px 12px;
            border-radius: 16px;
            font-size: 14px;
            cursor: pointer;
            transition: background 0.2s;
        }

        .history-item:hover {
            background: var(--primary);
        }

        .top-searches {
            background: var(--dark-light);
            margin: 16px;
            border-radius: 8px;
            padding: 16px;
            box-shadow: var(--card-shadow);
        }

        .top-searches h3 {
            font-size: 16px;
            margin-bottom: 12px;
        }

        .top-search-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 0;
            border-bottom: 1px solid var(--gray);
            cursor: pointer;
        }

        .top-search-item:last-child {
            border-bottom: none;
        }

        .search-rank {
            background: var(--primary);
            color: var(--white);
            width: 24px;
            height: 24px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: bold;
        }

        /* ===== CATEGORIES PAGE ===== */
        .categories-page .categories-grid {
            grid-template-columns: repeat(2, 1fr);
        }

        @media (min-width: 768px) {
            .categories-page .categories-grid {
                grid-template-columns: repeat(4, 1fr);
            }
        }

        /* ===== APP DETAILS PAGE ===== */
        .app-header {
            background: var(--dark-light);
            padding: 20px;
            display: flex;
            gap: 16px;
            align-items: flex-start;
        }

        .app-large-icon {
            width: 80px;
            height: 80px;
            background: var(--gray);
            border-radius: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 32px;
            flex-shrink: 0;
            color: var(--white);
        }

        .app-large-icon img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 16px;
        }

        .app-header-info {
            flex: 1;
        }

        .app-title {
            font-size: 20px;
            font-weight: bold;
            margin-bottom: 4px;
        }

        .app-developer-badge {
            display: flex;
            align-items: center;
            gap: 4px;
            margin-bottom: 8px;
            color: var(--gray);
        }

        .verified-badge {
            color: var(--primary);
            font-size: 14px;
        }

        .app-meta {
            display: flex;
            gap: 16px;
            margin-bottom: 16px;
            font-size: 14px;
            color: var(--gray);
        }

        .install-btn {
            background: var(--primary);
            color: var(--white);
            border: none;
            border-radius: 4px;
            padding: 12px 24px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: background-color 0.2s;
        }

        .install-btn:hover {
            background: var(--primary-dark);
        }

        .app-screenshots {
            background: var(--dark-light);
            margin: 16px;
            border-radius: 8px;
            padding: 16px;
            box-shadow: var(--card-shadow);
        }

        .screenshots-scroll {
            display: flex;
            gap: 12px;
            overflow-x: auto;
            padding: 8px 0;
        }

        .screenshot {
            width: 200px;
            height: 350px;
            background: var(--gray);
            border-radius: 8px;
            flex-shrink: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            color: var(--white);
        }

        .screenshot img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 8px;
        }

        .app-description {
            background: var(--dark-light);
            margin: 16px;
            border-radius: 8px;
            padding: 16px;
            box-shadow: var(--card-shadow);
        }

        .app-description h3 {
            font-size: 18px;
            margin-bottom: 12px;
        }

        .app-description p {
            font-size: 14px;
            line-height: 1.6;
            color: var(--light-gray);
        }

        .app-info-details {
            background: var(--dark-light);
            margin: 16px;
            border-radius: 8px;
            padding: 16px;
            box-shadow: var(--card-shadow);
        }

        .info-row {
            display: flex;
            justify-content: space-between;
            padding: 12px 0;
            border-bottom: 1px solid var(--gray);
        }

        .info-row:last-child {
            border-bottom: none;
        }

        .info-label {
            color: var(--gray);
        }

        .app-reviews {
            background: var(--dark-light);
            margin: 16px;
            border-radius: 8px;
            padding: 16px;
            box-shadow: var(--card-shadow);
        }

        .review {
            padding: 16px 0;
            border-bottom: 1px solid var(--gray);
        }

        .review:last-child {
            border-bottom: none;
        }

        .review-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 8px;
        }

        .reviewer {
            font-weight: 600;
        }

        .review-date {
            color: var(--gray);
            font-size: 12px;
        }

        .review-content {
            font-size: 14px;
            color: var(--light-gray);
        }

        .share-btn {
            position: fixed;
            bottom: 100px;
            right: 20px;
            background: var(--primary);
            color: var(--white);
            width: 56px;
            height: 56px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            box-shadow: 0 4px 12px rgba(229, 9, 20, 0.4);
            cursor: pointer;
            z-index: 99;
        }

        /* ===== PROFILE PAGE ===== */
        .profile-header {
            background: var(--dark-light);
            padding: 40px 20px;
            text-align: center;
            margin-bottom: 16px;
        }

        .profile-avatar {
            width: 80px;
            height: 80px;
            background: var(--gray);
            border-radius: 50%;
            margin: 0 auto 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 32px;
            color: var(--white);
        }

        .profile-name {
            font-size: 20px;
            font-weight: bold;
            margin-bottom: 4px;
        }

        .profile-email {
            color: var(--gray);
            font-size: 14px;
        }

        .profile-menu {
            background: var(--dark-light);
            margin: 0 16px;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: var(--card-shadow);
        }

        .menu-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 16px;
            border-bottom: 1px solid var(--gray);
            cursor: pointer;
            transition: background-color 0.2s;
        }

        .menu-item:last-child {
            border-bottom: none;
        }

        .menu-item:hover {
            background: var(--dark);
        }

        .menu-icon {
            font-size: 20px;
            width: 24px;
            text-align: center;
            color: var(--primary);
        }

        /* ===== AUTH MODAL ===== */
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s, visibility 0.3s;
        }

        .modal.active {
            opacity: 1;
            visibility: visible;
        }

        .modal-content {
            background: var(--dark-light);
            width: 90%;
            max-width: 400px;
            border-radius: 8px;
            overflow: hidden;
            transform: translateY(20px);
            transition: transform 0.3s;
        }

        .modal.active .modal-content {
            transform: translateY(0);
        }

        .modal-header {
            background: var(--primary);
            color: var(--white);
            padding: 20px;
            text-align: center;
        }

        .modal-body {
            padding: 20px;
        }

        .auth-options {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .auth-btn {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            padding: 12px 16px;
            border: 1px solid var(--gray);
            border-radius: 4px;
            background: var(--dark);
            color: var(--white);
            cursor: pointer;
            transition: background-color 0.2s;
        }

        .auth-btn:hover {
            background: var(--dark-light);
        }

        .auth-icon {
            font-size: 20px;
        }

        .google-btn {
            background: #DB4437;
            border-color: #DB4437;
        }

        .github-btn {
            background: #333;
            border-color: #333;
        }

        .email-btn {
            background: var(--dark);
            border-color: var(--gray);
        }

        .auth-form {
            display: none;
            flex-direction: column;
            gap: 12px;
        }

        .form-group {
            display: flex;
            flex-direction: column;
            gap: 4px;
        }

        .form-label {
            font-size: 14px;
            font-weight: 500;
            color: var(--light-gray);
        }

        .form-input {
            padding: 12px;
            background: var(--dark);
            border: 1px solid var(--gray);
            border-radius: 4px;
            font-size: 16px;
            color: var(--white);
        }

        .form-input:focus {
            border-color: var(--primary);
            outline: none;
        }

        .submit-btn {
            background: var(--primary);
            color: var(--white);
            border: none;
            border-radius: 4px;
            padding: 12px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            margin-top: 8px;
        }

        .submit-btn:hover {
            background: var(--primary-dark);
        }

        .auth-switch {
            color: var(--primary);
            text-align: center;
            margin-top: 12px;
            cursor: pointer;
        }

        /* ===== INSTALLATION MODAL ===== */
        .install-modal .modal-content {
            max-width: 300px;
        }

        .install-header {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 20px;
            border-bottom: 1px solid var(--gray);
        }

        .install-icon {
            width: 40px;
            height: 40px;
            background: var(--gray);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            color: var(--white);
        }

        .install-icon img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 8px;
        }

        .install-info h3 {
            font-size: 16px;
            margin-bottom: 4px;
        }

        .install-info p {
            font-size: 14px;
            color: var(--gray);
        }

        .install-progress {
            padding: 20px;
        }

        .progress-bar {
            height: 4px;
            background: var(--dark);
            border-radius: 2px;
            overflow: hidden;
            margin-bottom: 12px;
        }

        .progress-fill {
            height: 100%;
            background: var(--primary);
            width: 0%;
            transition: width 0.3s;
        }

        .progress-text {
            text-align: center;
            font-size: 14px;
            color: var(--gray);
        }

        /* ===== UPDATE MODAL ===== */
        .update-modal .modal-content {
            max-width: 300px;
        }

        .update-header {
            padding: 20px;
            text-align: center;
            border-bottom: 1px solid var(--gray);
        }

        .update-icon {
            font-size: 40px;
            color: var(--primary);
            margin-bottom: 12px;
        }

        .update-body {
            padding: 20px;
        }

        .update-actions {
            display: flex;
            gap: 12px;
        }

        .update-btn {
            flex: 1;
            padding: 12px;
            border: none;
            border-radius: 4px;
            font-weight: 600;
            cursor: pointer;
        }

        .update-now {
            background: var(--primary);
            color: var(--white);
        }

        .update-later {
            background: var(--dark);
            color: var(--white);
        }

        /* ===== ADMIN PANEL ===== */
        .admin-panel {
            background: var(--dark-light);
            padding: 20px;
            margin: 16px;
            border-radius: 8px;
            box-shadow: var(--card-shadow);
        }

        .admin-panel h2 {
            margin-bottom: 20px;
            color: var(--primary);
        }

        .admin-form {
            display: grid;
            gap: 16px;
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
        }

        .admin-submit {
            background: var(--primary);
            color: var(--white);
            border: none;
            border-radius: 4px;
            padding: 12px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            margin-top: 12px;
        }

        /* ===== UTILITY CLASSES ===== */
        .hidden {
            display: none !important;
        }

        .text-center {
            text-align: center;
        }

        .mt-16 {
            margin-top: 16px;
        }

        .mb-16 {
            margin-bottom: 16px;
        }

        /* ===== BACK BUTTON ===== */
        .back-btn {
            background: none;
            border: none;
            font-size: 20px;
            color: var(--white);
            cursor: pointer;
            padding: 8px;
            border-radius: 50%;
            transition: background-color 0.2s;
            margin-right: 8px;
        }

        .back-btn:hover {
            background-color: var(--dark-light);
        }

        /* ===== FAVORITE BUTTON ===== */
        .favorite-btn {
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            position: absolute;
            top: 16px;
            right: 16px;
            z-index: 1;
            color: var(--gray);
        }

        .favorite-btn.active {
            color: var(--primary);
        }

        /* ===== MODERN CATEGORY ICONS ===== */
        .category-icon {
            font-size: 32px;
            margin-bottom: 8px;
            color: var(--primary);
        }

        .category-icon svg {
            width: 32px;
            height: 32px;
        }

        /* ===== AD PROVIDER STYLES ===== */
        .ad-container {
            margin: 20px 16px;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: var(--card-shadow);
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100px;
            background: var(--dark-light);
        }
    </style>
</head>
<body>
    <!-- Splash Screen -->
    <div id="splash">
        <div class="splash-logo">LOOMA</div>
        <div class="splash-loader"></div>
    </div>

    <!-- Header -->
    <header>
        <div class="header-container">
            <div class="logo">LOOMA</div>
            <div class="header-actions">
                <button class="search-btn" id="search-toggle">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M21 21L16.514 16.506L21 21ZM19 10.5C19 15.194 15.194 19 10.5 19C5.806 19 2 15.194 2 10.5C2 5.806 5.806 2 10.5 2C15.194 2 19 5.806 19 10.5Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </button>
                <button class="menu-btn" id="menu-toggle">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M3 12H21M3 6H21M3 18H21" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </button>
            </div>
        </div>
    </header>

    <!-- Main Views -->
    <main>
        <!-- Home View -->
        <section id="home" class="view active">
            <div class="hero-banner">
                <div class="hero-content">
                    <h1 class="hero-title">Discover Amazing Apps</h1>
                    <p class="hero-description">Explore millions of apps, games, and tools for every need. Download now and enhance your digital experience.</p>
                    <div class="hero-actions">
                        <button class="hero-btn primary-btn">Explore Now</button>
                        <button class="hero-btn secondary-btn">Learn More</button>
                    </div>
                </div>
            </div>

            <!-- Ad Container -->
            <div class="ad-container">
                <ins class="eas6a97888e37" data-zoneid="5776764"></ins>
            </div>

            <div class="section-title">
                <span>Popular Apps</span>
                <a href="#" class="see-all">See all</a>
            </div>
            <div class="carousel" id="popular-carousel">
                <!-- Popular apps carousel -->
            </div>

            <div class="section-title">
                <span>Recommended</span>
                <a href="#" class="see-all">See all</a>
            </div>
            <div class="apps-grid" id="recommended-apps">
                <!-- Recommended apps grid -->
            </div>

            <div class="section-title">
                <span>Trending</span>
                <a href="#" class="see-all">See all</a>
            </div>
            <div class="apps-grid" id="trending-apps">
                <!-- Trending apps grid -->
            </div>

            <div class="section-title">
                <span>Categories</span>
            </div>
            <div class="categories-grid" id="home-categories">
                <!-- Categories grid -->
            </div>
        </section>

        <!-- Search View -->
        <section id="search" class="view">
            <div class="search-header">
                <div class="search-input-container">
                    <input type="text" class="search-input" id="search-input" placeholder="Search apps...">
                </div>
                <div class="cancel-search" id="cancel-search">Cancel</div>
            </div>

            <div class="search-history" id="search-history">
                <h3>Recent Searches</h3>
                <div class="history-items" id="history-items">
                    <!-- History items -->
                </div>
            </div>

            <div class="top-searches">
                <h3>Top Searches</h3>
                <div id="top-searches-list">
                    <!-- Top searches -->
                </div>
            </div>

            <div class="search-results" id="search-results">
                <!-- Search results -->
            </div>
        </section>

        <!-- Categories View -->
        <section id="categories" class="view">
            <div class="section-title">
                <span>All Categories</span>
            </div>
            <div class="categories-grid" id="all-categories">
                <!-- All categories -->
            </div>
        </section>

        <!-- Profile View -->
        <section id="profile" class="view">
            <div class="profile-header">
                <div class="profile-avatar">
                    <svg width="40" height="40" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M20 21V19C20 17.9391 19.5786 16.9217 18.8284 16.1716C18.0783 15.4214 17.0609 15 16 15H8C6.93913 15 5.92172 15.4214 5.17157 16.1716C4.42143 16.9217 4 17.9391 4 19V21" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M12 11C14.2091 11 16 9.20914 16 7C16 4.79086 14.2091 3 12 3C9.79086 3 8 4.79086 8 7C8 9.20914 9.79086 11 12 11Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </div>
                <div class="profile-name">Guest User</div>
                <div class="profile-email">Tap to login</div>
            </div>

            <div class="profile-menu">
                <div class="menu-item" id="login-menu">
                    <div class="menu-icon">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M15 3H19C19.5304 3 20.0391 3.21071 20.4142 3.58579C20.7893 3.96086 21 4.46957 21 5V19C21 19.5304 20.7893 20.0391 20.4142 20.4142C20.0391 20.7893 19.5304 21 19 21H15" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M10 17L15 12L10 7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M15 12H3" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </div>
                    <div>Login / Register</div>
                </div>
                <div class="menu-item" id="favorites-menu">
                    <div class="menu-icon">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M20.84 4.61C20.3292 4.099 19.7228 3.69364 19.0554 3.41708C18.3879 3.14052 17.6725 2.99817 16.95 2.99817C16.2275 2.99817 15.5121 3.14052 14.8446 3.41708C14.1772 3.69364 13.5708 4.099 13.06 4.61L12 5.67L10.94 4.61C9.9083 3.5783 8.50903 2.9987 7.05 2.9987C5.59096 2.9987 4.19169 3.5783 3.16 4.61C2.1283 5.64169 1.5487 7.04097 1.5487 8.5C1.5487 9.95903 2.1283 11.3583 3.16 12.39L4.22 13.45L12 21.23L19.78 13.45L20.84 12.39C21.351 11.8792 21.7563 11.2728 22.0329 10.6053C22.3095 9.93789 22.4518 9.22248 22.4518 8.5C22.4518 7.77752 22.3095 7.06211 22.0329 6.39465C21.7563 5.72719 21.351 5.12076 20.84 4.61V4.61Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </div>
                    <div>My Favorites</div>
                </div>
                <div class="menu-item" id="history-menu">
                    <div class="menu-icon">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M12 8V12L15 15" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M3.05 11C3.27151 9.18063 4.06052 7.4815 5.30078 6.15147C6.54104 4.82144 8.16366 3.93458 9.93211 3.625C11.7006 3.31542 13.5206 3.60026 15.126 4.4375C16.7314 5.27474 18.0334 6.61989 18.833 8.27007C19.6326 9.92025 19.888 11.7849 19.562 13.5901C19.236 15.3953 18.345 17.0434 17.025 18.2633C15.705 19.4832 14.031 20.2066 12.2631 20.3214C10.4952 20.4363 8.73378 19.9357 7.266 18.9L3.5 21" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </div>
                    <div>Download History</div>
                </div>
                <div class="menu-item">
                    <div class="menu-icon">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M12 15C13.6569 15 15 13.6569 15 12C15 10.3431 13.6569 9 12 9C10.3431 9 9 10.3431 9 12C9 13.6569 10.3431 15 12 15Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M19.4 15C19.2669 15.3031 19.1341 15.6063 19.0012 15.9094C18.914 16.1053 18.8268 16.3012 18.7396 16.4971C18.6524 16.6929 18.5652 16.8888 18.478 17.0847C18.258 17.588 18.038 18.0913 17.818 18.5946C17.7255 18.8109 17.633 19.0272 17.5405 19.2435C17.448 19.4598 17.3555 19.6761 17.263 19.8924C17.0569 20.4107 16.8508 20.929 16.6447 21.4474C16.4386 21.9657 16.2325 22.484 16.0264 23C15.6716 23 15.3168 23 14.962 23C14.6072 23 14.2524 23 13.8976 23C13.7803 22.7128 13.663 22.4256 13.5457 22.1384C13.4284 21.8512 13.3111 21.564 13.1938 21.2768C13.0765 20.9896 12.9592 20.7024 12.8419 20.4152C12.7246 20.128 12.6073 19.8408 12.49 19.5536C12.3727 19.2664 12.2554 18.9792 12.1381 18.692C12.0208 18.4048 11.9035 18.1176 11.7862 17.8304C11.6689 17.5432 11.5516 17.256 11.4343 16.9688C11.317 16.6816 11.1997 16.3944 11.0824 16.1072C10.9651 15.82 10.8478 15.5328 10.7305 15.2456C10.6132 14.9584 10.4959 14.6712 10.3786 14.384C10.2613 14.0968 10.144 13.8096 10.0267 13.5224C9.90941 13.2352 9.79211 12.948 9.67481 12.6608C9.55751 12.3736 9.44021 12.0864 9.32291 11.7992C9.20561 11.512 9.08831 11.2248 8.97101 10.9376C8.85371 10.6504 8.73641 10.3632 8.61911 10.076C8.50181 9.7888 8.38451 9.5016 8.26721 9.2144C8.14991 8.9272 8.03261 8.64 7.91531 8.3528C7.79801 8.0656 7.68071 7.7784 7.56341 7.4912C7.44611 7.204 7.32881 6.9168 7.21151 6.6296C7.09421 6.3424 6.97691 6.0552 6.85961 5.768C6.74231 5.4808 6.62501 5.1936 6.50771 4.9064C6.39041 4.6192 6.27311 4.332 6.15581 4.0448C6.03851 3.7576 5.92121 3.4704 5.80391 3.1832C5.68661 2.896 5.56931 2.6088 5.45201 2.3216C5.33471 2.0344 5.21741 1.7472 5.10011 1.46C4.98281 1.1728 4.86551 0.8856 4.74821 0.5984C4.63091 0.3112 4.51361 0.024 4.39631 -0.2632C4.01954 -0.2632 3.64277 -0.2632 3.266 -0.2632C2.88923 -0.2632 2.51246 -0.2632 2.13569 -0.2632C1.75892 -0.2632 1.38215 -0.2632 1.00538 -0.2632C0.628615 -0.2632 0.251846 -0.2632 -0.124923 -0.2632C-0.124923 0.124923 -0.124923 0.513846 -0.124923 0.902769C-0.124923 1.29169 -0.124923 1.68062 -0.124923 2.06954C-0.124923 2.45846 -0.124923 2.84738 -0.124923 3.23631C-0.124923 3.62523 -0.124923 4.01415 -0.124923 4.40308C-0.124923 4.792 -0.124923 5.18092 -0.124923 5.56985C-0.124923 5.95877 -0.124923 6.34769 -0.124923 6.73662C-0.124923 7.12554 -0.124923 7.51446 -0.124923 7.90338C-0.124923 8.29231 -0.124923 8.68123 -0.124923 9.07015C-0.124923 9.45908 -0.124923 9.848 -0.124923 10.2369C-0.124923 10.6258 -0.124923 11.0148 -0.124923 11.4037C-0.124923 11.7926 -0.124923 12.1815 -0.124923 12.5705C-0.124923 12.9594 -0.124923 13.3483 -0.124923 13.7372C-0.124923 14.1262 -0.124923 14.5151 -0.124923 14.904C-0.124923 15.2929 -0.124923 15.6818 -0.124923 16.0708C-0.124923 16.4597 -0.124923 16.8486 -0.124923 17.2375C-0.124923 17.6265 -0.124923 18.0154 -0.124923 18.4043C-0.124923 18.7932 -0.124923 19.1822 -0.124923 19.5711C-0.124923 19.96 -0.124923 20.3489 -0.124923 20.7378C-0.124923 21.1268 -0.124923 21.5157 -0.124923 21.9046C-0.124923 22.2935 -0.124923 22.6825 -0.124923 23.0714C0.251846 23.0714 0.628615 23.0714 1.00538 23.0714C1.38215 23.0714 1.75892 23.0714 2.13569 23.0714C2.51246 23.0714 2.88923 23.0714 3.266 23.0714C3.64277 23.0714 4.01954 23.0714 4.39631 23.0714C4.77308 23.0714 5.14985 23.0714 5.52662 23.0714C5.90339 23.0714 6.28016 23.0714 6.65693 23.0714C7.0337 23.0714 7.41047 23.0714 7.78724 23.0714C8.16401 23.0714 8.54078 23.0714 8.91755 23.0714C9.29432 23.0714 9.67109 23.0714 10.0479 23.0714C10.4246 23.0714 10.8014 23.0714 11.1782 23.0714C11.5549 23.0714 11.9317 23.0714 12.3085 23.0714C12.6852 23.0714 13.062 23.0714 13.4388 23.0714C13.8155 23.0714 14.1923 23.0714 14.5691 23.0714C14.9458 23.0714 15.3226 23.0714 15.6994 23.0714C16.0761 23.0714 16.4529 23.0714 16.8297 23.0714C17.2064 23.0714 17.5832 23.0714 17.96 23.0714C18.3367 23.0714 18.7135 23.0714 19.0903 23.0714C19.467 23.0714 19.8438 23.0714 20.2206 23.0714C20.5973 23.0714 20.9741 23.0714 21.3509 23.0714C21.7276 23.0714 22.1044 23.0714 22.4812 23.0714C22.8579 23.0714 23.2347 23.0714 23.6115 23.0714C23.9882 23.0714 24.365 23.0714 24.7418 23.0714C24.7418 22.6825 24.7418 22.2935 24.7418 21.9046C24.7418 21.5157 24.7418 21.1268 24.7418 20.7378C24.7418 20.3489 24.7418 19.96 24.7418 19.5711C24.7418 19.1822 24.7418 18.7932 24.7418 18.4043C24.7418 18.0154 24.7418 17.6265 24.7418 17.2375C24.7418 16.8486 24.7418 16.4597 24.7418 16.0708C24.7418 15.6818 24.7418 15.2929 24.7418 14.904C24.7418 14.5151 24.7418 14.1262 24.7418 13.7372C24.7418 13.3483 24.7418 12.9594 24.7418 12.5705C24.7418 12.1815 24.7418 11.7926 24.7418 11.4037C24.7418 11.0148 24.7418 10.6258 24.7418 10.2369C24.7418 9.848 24.7418 9.45908 24.7418 9.07015C24.7418 8.68123 24.7418 8.29231 24.7418 7.90338C24.7418 7.51446 24.7418 7.12554 24.7418 6.73662C24.7418 6.34769 24.7418 5.95877 24.7418 5.56985C24.7418 5.18092 24.7418 4.792 24.7418 4.40308C24.7418 4.01415 24.7418 3.62523 24.7418 3.23631C24.7418 2.84738 24.7418 2.45846 24.7418 2.06954C24.7418 1.68062 24.7418 1.29169 24.7418 0.902769C24.7418 0.513846 24.7418 0.124923 24.7418 -0.2632C24.365 -0.2632 23.9882 -0.2632 23.6115 -0.2632C23.2347 -0.2632 22.8579 -0.2632 22.4812 -0.2632C22.1044 -0.2632 21.7276 -0.2632 21.3509 -0.2632C20.9741 -0.2632 20.5973 -0.2632 20.2206 -0.2632C19.8438 -0.2632 19.467 -0.2632 19.0903 -0.2632C18.7135 -0.2632 18.3367 -0.2632 17.96 -0.2632C17.5832 -0.2632 17.2064 -0.2632 16.8297 -0.2632C16.4529 -0.2632 16.0761 -0.2632 15.6994 -0.2632C15.3226 -0.2632 14.9458 -0.2632 14.5691 -0.2632C14.1923 -0.2632 13.8155 -0.2632 13.4388 -0.2632C13.062 -0.2632 12.6852 -0.2632 12.3085 -0.2632C11.9317 -0.2632 11.5549 -0.2632 11.1782 -0.2632C10.8014 -0.2632 10.4246 -0.2632 10.0479 -0.2632C9.67109 -0.2632 9.29432 -0.2632 8.91755 -0.2632C8.54078 -0.2632 8.16401 -0.2632 7.78724 -0.2632C7.41047 -0.2632 7.0337 -0.2632 6.65693 -0.2632C6.28016 -0.2632 5.90339 -0.2632 5.52662 -0.2632C5.14985 -0.2632 4.77308 -0.2632 4.39631 -0.2632C4.01954 -0.2632 3.64277 -0.2632 3.266 -0.2632C2.88923 -0.2632 2.51246 -0.2632 2.13569 -0.2632C1.75892 -0.2632 1.38215 -0.2632 1.00538 -0.2632C0.628615 -0.2632 0.251846 -0.2632 -0.124923 -0.2632" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </div>
                    <div>Settings</div>
                </div>
            </div>
        </section>

        <!-- App Details View -->
        <section id="app-details" class="view">
            <!-- App details content will be populated by JavaScript -->
        </section>

        <!-- Category Apps View -->
        <section id="category-apps" class="view">
            <div class="section-title" id="category-title">
                <span>Category Apps</span>
            </div>
            <div class="apps-grid" id="category-apps-grid">
                <!-- Category apps grid -->
            </div>
        </section>

        <!-- Favorites View -->
        <section id="favorites" class="view">
            <div class="section-title">
                <span>My Favorites</span>
            </div>
            <div class="apps-grid" id="favorites-grid">
                <!-- Favorites grid -->
            </div>
        </section>

        <!-- Download History View -->
        <section id="download-history" class="view">
            <div class="section-title">
                <span>Download History</span>
            </div>
            <div class="apps-grid" id="history-grid">
                <!-- History grid -->
            </div>
        </section>

        <!-- Admin Panel (Hidden) -->
        <section id="admin" class="view">
            <div class="admin-panel">
                <h2>Admin Panel - Add New App</h2>
                <form class="admin-form" id="admin-form">
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">App Name</label>
                            <input type="text" class="form-input" id="admin-app-name" required>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Developer</label>
                            <input type="text" class="form-input" id="admin-developer" required>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Description</label>
                        <textarea class="form-input" id="admin-description" rows="3" required></textarea>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">Category</label>
                            <select class="form-input" id="admin-category" required>
                                <option value="social">Social</option>
                                <option value="games">Games</option>
                                <option value="tools">Tools</option>
                                <option value="productivity">Productivity</option>
                                <option value="entertainment">Entertainment</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Version</label>
                            <input type="text" class="form-input" id="admin-version" required>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">Size (MB)</label>
                            <input type="number" class="form-input" id="admin-size" required>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Rating</label>
                            <input type="number" class="form-input" id="admin-rating" min="1" max="5" step="0.1" required>
                        </div>
                    </div>
                    <button type="submit" class="admin-submit">Add App</button>
                </form>
            </div>
        </section>
    </main>

    <!-- Bottom Navigation -->
    <nav class="bottom-nav">
        <div class="nav-item active" data-view="home">
            <div class="nav-icon">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M3 9L12 2L21 9V20C21 20.5304 20.7893 21.0391 20.4142 21.4142C20.0391 21.7893 19.5304 22 19 22H5C4.46957 22 3.96086 21.7893 3.58579 21.4142C3.21071 21.0391 3 20.5304 3 20V9Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
            </div>
            <div>Home</div>
        </div>
        <div class="nav-item" data-view="search">
            <div class="nav-icon">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M21 21L16.514 16.506L21 21ZM19 10.5C19 15.194 15.194 19 10.5 19C5.806 19 2 15.194 2 10.5C2 5.806 5.806 2 10.5 2C15.194 2 19 5.806 19 10.5Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
            </div>
            <div>Search</div>
        </div>
        <div class="nav-item" data-view="categories">
            <div class="nav-icon">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M8 6H21M8 12H21M8 18H21M3 6H3.01M3 12H3.01M3 18H3.01" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
            </div>
            <div>Categories</div>
        </div>
        <div class="nav-item" data-view="profile">
            <div class="nav-icon">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M20 21V19C20 17.9391 19.5786 16.9217 18.8284 16.1716C18.0783 15.4214 17.0609 15 16 15H8C6.93913 15 5.92172 15.4214 5.17157 16.1716C4.42143 16.9217 4 17.9391 4 19V21" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M12 11C14.2091 11 16 9.20914 16 7C16 4.79086 14.2091 3 12 3C9.79086 3 8 4.79086 8 7C8 9.20914 9.79086 11 12 11Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
            </div>
            <div>Profile</div>
        </div>
    </nav>

    <!-- Share Button (for app details) -->
    <div class="share-btn hidden" id="share-btn">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M18 8C19.6569 8 21 6.65685 21 5C21 3.34315 19.6569 2 18 2C16.3431 2 15 3.34315 15 5C15 6.65685 16.3431 8 18 8Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M6 15C7.65685 15 9 13.6569 9 12C9 10.3431 7.65685 9 6 9C4.34315 9 3 10.3431 3 12C3 13.6569 4.34315 15 6 15Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M18 22C19.6569 22 21 20.6569 21 19C21 17.3431 19.6569 16 18 16C16.3431 16 15 17.3431 15 19C15 20.6569 16.3431 22 18 22Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M8.59 13.51L15.42 17.49" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M15.41 6.51L8.59 10.49" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
    </div>

    <!-- Auth Modal -->
    <div class="modal" id="auth-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Welcome to LOOMA</h2>
            </div>
            <div class="modal-body">
                <div class="auth-options" id="auth-options">
                    <button class="auth-btn google-btn" id="google-auth">
                        <div class="auth-icon">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M21.8055 10.0415H21V10H12V14H17.6515C16.827 16.3285 14.6115 18 12 18C8.6865 18 6 15.3135 6 12C6 8.6865 8.6865 6 12 6C13.5295 6 14.921 6.577 15.9805 7.5195L18.809 4.691C17.023 3.0265 14.634 2 12 2C6.4775 2 2 6.4775 2 12C2 17.5225 6.4775 22 12 22C17.5225 22 22 17.5225 22 12C22 11.3295 21.931 10.675 21.8055 10.0415Z" fill="#FFC107"/>
                                <path d="M3.153 7.3455L6.4385 9.755C7.3275 7.554 9.4805 6 12 6C13.5295 6 14.921 6.577 15.9805 7.5195L18.809 4.691C17.023 3.0265 14.634 2 12 2C8.159 2 4.828 4.1685 3.153 7.3455Z" fill="#FF3D00"/>
                                <path d="M12 22C14.583 22 16.93 21.0115 18.7045 19.404L15.6095 16.785C14.6055 17.5455 13.3575 18 12 18C9.399 18 7.1905 16.3415 6.3585 14.027L3.0975 16.5395C4.7525 19.778 8.1135 22 12 22Z" fill="#4CAF50"/>
                                <path d="M21.8055 10.0415H21V10H12V14H17.6515C17.2555 15.1185 16.536 16.083 15.608 16.7855L15.6095 16.7845L18.7045 19.4035C18.4855 19.6025 22 17 22 12C22 11.3295 21.931 10.675 21.8055 10.0415Z" fill="#1976D2"/>
                            </svg>
                        </div>
                        <div>Continue with Google</div>
                    </button>
                    <button class="auth-btn github-btn" id="github-auth">
                        <div class="auth-icon">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M12 2C6.477 2 2 6.477 2 12C2 16.418 4.865 20.166 8.839 21.489C9.339 21.579 9.521 21.26 9.521 20.978C9.521 20.721 9.513 20.14 9.508 19.306C6.726 19.907 6.139 18.16 6.139 18.16C5.684 17.078 5.029 16.81 5.029 16.81C4.121 16.195 5.098 16.21 5.098 16.21C6.101 16.282 6.629 17.24 6.629 17.24C7.521 18.714 8.97 18.293 9.539 18.055C9.631 17.488 9.889 17.087 10.175 16.847C7.954 16.597 5.62 15.729 5.62 11.991C5.62 10.945 6.007 10.079 6.649 9.425C6.546 9.17 6.203 8.209 6.747 6.681C6.747 6.681 7.586 6.424 9.485 7.638C10.376 7.394 11.3 7.272 12.224 7.272C13.148 7.272 14.072 7.394 14.963 7.638C16.862 6.424 17.701 6.681 17.701 6.681C18.245 8.209 17.902 9.17 17.799 9.425C18.441 10.079 18.828 10.945 18.828 11.991C18.828 15.742 16.488 16.593 14.261 16.837C14.607 17.125 14.921 17.686 14.921 18.562C14.921 19.85 14.908 20.894 14.908 20.978C14.908 21.263 15.088 21.585 15.598 21.488C19.574 20.163 22.438 16.416 22.438 12C22 6.477 17.523 2 12 2Z" fill="currentColor"/>
                            </svg>
                        </div>
                        <div>Continue with GitHub</div>
                    </button>
                    <button class="auth-btn email-btn" id="email-auth">
                        <div class="auth-icon">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M4 4H20C21.1 4 22 4.9 22 6V18C22 19.1 21.1 20 20 20H4C2.9 20 2 19.1 2 18V6C2 4.9 2.9 4 4 4Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                <path d="M22 6L12 13L2 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                        </div>
                        <div>Continue with Email</div>
                    </button>
                </div>
                <div class="auth-form" id="email-auth-form">
                    <div class="form-group">
                        <label class="form-label">Email</label>
                        <input type="email" class="form-input" id="auth-email" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Password</label>
                        <input type="password" class="form-input" id="auth-password" required>
                    </div>
                    <button class="submit-btn" id="auth-submit">Login</button>
                    <div class="auth-switch" id="auth-switch">Don't have an account? Sign up</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Installation Modal -->
    <div class="modal install-modal" id="install-modal">
        <div class="modal-content">
            <div class="install-header">
                <div class="install-icon" id="install-app-icon">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M12 16L12 8" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M8 12L16 12" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </div>
                <div class="install-info">
                    <h3 id="install-app-name">App Name</h3>
                    <p>Installing...</p>
                </div>
            </div>
            <div class="install-progress">
                <div class="progress-bar">
                    <div class="progress-fill" id="install-progress"></div>
                </div>
                <div class="progress-text" id="install-text">Preparing...</div>
            </div>
        </div>
    </div>

    <!-- Update Modal -->
    <div class="modal update-modal" id="update-modal">
        <div class="modal-content">
            <div class="update-header">
                <div class="update-icon">
                    <svg width="40" height="40" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M23 4V10H17" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M1 20V14H7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M3.51 9C4.01717 7.56678 4.87913 6.2854 6.01547 5.27542C7.1518 4.26543 8.52547 3.55976 10.0083 3.22426C11.4911 2.88875 13.0348 2.93434 14.4952 3.35677C15.9556 3.77921 17.2853 4.56471 18.36 5.64L23 10M1 14L5.64 18.36C6.71475 19.4353 8.04437 20.2208 9.50481 20.6432C10.9652 21.0657 12.5089 21.1113 13.9917 20.7757C15.4745 20.4402 16.8482 19.7346 17.9845 18.7246C19.1209 17.7146 19.9828 16.4332 20.49 15" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </div>
                <h3>Update Available</h3>
            </div>
            <div class="update-body">
                <p>A new version of LOOMA is available. Update now for the best experience.</p>
                <div class="update-actions">
                    <button class="update-btn update-later" id="update-later">Later</button>
                    <button class="update-btn update-now" id="update-now">Update</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Ad Provider Script -->
    <script async type="application/javascript" src="https://a.magsrv.com/ad-provider.js"></script>
    <script>
        (AdProvider = window.AdProvider || []).push({"serve": {}});
    </script>

    <!-- Firebase SDK -->
    <script type="module">
        // Import the functions you need from the SDKs you need
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
        import { getAnalytics } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-analytics.js";
        import { 
            getAuth, 
            signInWithPopup, 
            GoogleAuthProvider, 
            GithubAuthProvider,
            createUserWithEmailAndPassword,
            signInWithEmailAndPassword,
            onAuthStateChanged,
            signOut
        } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";

        // Your web app's Firebase configuration
        const firebaseConfig = {
            apiKey: "AIzaSyABmWKGHOihq-2A_oywlKke-H4l7Pq_UvM",
            authDomain: "loomastore.firebaseapp.com",
            databaseURL: "https://loomastore-default-rtdb.firebaseio.com",
            projectId: "loomastore",
            storageBucket: "loomastore.firebasestorage.app",
            messagingSenderId: "480260251641",
            appId: "1:480260251641:web:75b1fbea6dc8f33cc16728",
            measurementId: "G-Z4QXNFLQEY"
        };

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const analytics = getAnalytics(app);
        const auth = getAuth(app);
        const googleProvider = new GoogleAuthProvider();
        const githubProvider = new GithubAuthProvider();

        // Firebase Auth Functions
        window.firebaseAuth = {
            signInWithGoogle: () => {
                return signInWithPopup(auth, googleProvider);
            },
            signInWithGithub: () => {
                return signInWithPopup(auth, githubProvider);
            },
            signUpWithEmail: (email, password) => {
                return createUserWithEmailAndPassword(auth, email, password);
            },
            signInWithEmail: (email, password) => {
                return signInWithEmailAndPassword(auth, email, password);
            },
            signOut: () => {
                return signOut(auth);
            },
            onAuthStateChanged: (callback) => {
                return onAuthStateChanged(auth, callback);
            }
        };
    </script>

    <script>
        // ===== APP DATA =====
        const apps = [
            {
                id: 1,
                slug: 'app-store',
                name: 'App Store XAPK',
                developer: 'Vau App Store',
                version: 'Latest',
                size: 42,
                downloads: '1M+',
                category: 'tools',
                rating: 4.2,
                icon: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ1BK8qIwimxMQmsh13AzTlr9lJdYuSn6551aPpm9halA&s',
                screenshots: [
                    'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSIkj_DOYsJz9QyCr-b4rqdx2Xzmabp0oawu01VokwY1g&s=10',
                    'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQmHIpr4V0FqpxTQSNDRWeBi7MEGQh51q-przSfXwiKPA&s=10',
                    'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS4IpVEHROsl7TqKppASk-po4tb4WgiyfO1fOofeREcNg&s=10'
                ],
                description: 'The ultimate app store for Android with thousands of apps and games. Download APK and XAPK files directly.',
                apkUrl: 'https://d.apkpure.net/b/XAPK/com.vau.app_store?version=latest'
            },
            {
                id: 2,
                slug: 'gmail',
                name: 'Gmail',
                developer: 'Google LLC',
                version: '2024.11.15',
                size: 35,
                downloads: '5B+',
                category: 'productivity',
                rating: 4.4,
                icon: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRQBEEtotABWl1Tu6OBpC0ZIKyiepZH7dDEi_dzEfjW5Q&s=10',
                screenshots: [
                    'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSSPRbSqHCZ4VjurVIr6wSh025ce8vMjJiaOj0EYuTWaw&s=10',
                    'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQkFMWvlS0RzCqSIQ9VeuFCtVOicdxg9A9g8nqy8SMvUw&s=10',
                    'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQGco_iPu7MrggtylM27oNX4Ib5qc-qz7fsEcT0egKZ5w&s=10'
                ],
                description: 'The official Gmail app brings the best of Gmail to your Android phone or tablet with robust security, real-time notifications, multiple account support, and search across your entire inbox.',
                apkUrl: 'https://d.apkpure.com/b/APK/com.google.android.gm?version=latest'
            },
            {
                id: 3,
                slug: 'facebook',
                name: 'Facebook',
                developer: 'Facebook',
                version: 'Latest',
                size: 78,
                downloads: '5B+',
                category: 'social',
                rating: 4.0,
                icon: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSZ790NyZFwQ_bsMScnGHJKTG_xmdp8fvv-ufyL3XdN4HCsMI3Djplxy7ZA&s=10',
                screenshots: [
                    'https://about.fb.com/wp-content/uploads/2024/04/01_New-Player.gif?w=960&resize=960%2C836',
                    'https://about.fb.com/wp-content/uploads/2024/04/03_Scrubber.gif?w=960&resize=960%2C836',
                    'https://about.fb.com/wp-content/uploads/2024/04/02_Landscape-Mode.gif?w=960&resize=960%2C836'
                ],
                description: 'Keeping up with friends is faster and easier than ever with the Facebook app.',
                apkUrl: 'https://d.apkpure.com/b/APK/com.facebook.katana?version=latest'
            },
            {
                id: 4,
                slug: 'whatsapp-business',
                name: 'WhatsApp Business',
                developer: 'WhatsApp Inc.',
                version: 'Latest',
                size: 45,
                downloads: '500M+',
                category: 'tools',
                rating: 4.3,
                icon: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRFgzEZnuUEzWa40VkpJ1KhKXXT_hAIDS7Cs7nf4_Mcsg&s',
                screenshots: [
                    'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSq76pCxQGnUTvSQBP6pQ0wXF3yG_OF3IAltl471tVUCg&s=10',
                    'https://imag.malavida.com/mvimgbig/download-fs/wapwhatsapp-20725-5.jpg',
                    'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTYTK46IZWFO-3ATG6YWGEobTG3aGg1Y59STfbxlb6utg&s=10'
                ],
                description: 'WhatsApp Business enables you to have a business presence on WhatsApp, communicate more efficiently with your customers, and help you grow your business.',
                apkUrl: 'https://d.apkpure.com/b/XAPK/com.whatsapp.w4b?version=latest'
            },
            {
                id: 5,
                slug: 'netflix',
                name: 'Netflix',
                developer: 'Netflix, Inc.',
                version: 'Latest',
                size: 35,
                downloads: '1B+',
                category: 'entertainment',
                rating: 4.4,
                icon: 'https://crystalpng.com/wp-content/uploads/2025/05/netflix-logo.png',
                screenshots: [
                    'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcShOZDQkMY6EFgbewjQCA8e8NIhQGUk7ssRubwPDu7fvQ&s=10',
                    'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQBh6tbnLfMFEtRbHn3TCO74JAX1Glj2I8Yf4N4GW8sOQ&s=10',
                    'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRtqWjCKiwLYjprCBe7WkhPAowf-KSVR7qydbPET4O292OuSbjBLhSW5r4&s=10'
                ],
                description: 'Looking for the most talked about TV shows and movies from around the world? They\'re all on Netflix.',
                apkUrl: 'https://d.apkpure.com/b/XAPK/com.netflix.mediaclient?version=latest'
            },
            {
                id: 6,
                slug: 'call-of-duty',
                name: 'Call of Duty: Mobile',
                developer: 'Activision Publishing, Inc.',
                version: '1.0.39',
                size: 2100,
                downloads: '500M+',
                category: 'games',
                rating: 4.6,
                icon: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQrHrCg4FMwZjMbQIC5-FWxIvOVY6s3YvyJd8gCFuNo43hZC0vCfh2sRo6V&s=10',
                screenshots: [
                    'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSlVTpMEWUFKbsLqv_zuW-HHkFbarUj5ZNxW0dgk0QO4w&s=10',
                    'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQNkqTuy5QBIQ94ymrTEVlyttJmYBtz92V_ExhaJAVGRA&s=10',
                    'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQyKuC7eWOlmyp04Dgb9CFJMgheUSclermW4CTc3jg9eA&s=10'
                ],
                description: 'Call of Duty: Mobile is the definitive first-person action game that brings together the unique flavor of Call of Duty.',
                apkUrl: 'https://d.apkpure.com/b/XAPK/com.activision.callofduty.warzone?version=latest'
            },
            {
                id: 7,
                slug: 'instagram',
                name: 'Instagram',
                developer: 'Instagram',
                version: 'Latest',
                size: 65,
                downloads: '1B+',
                category: 'social',
                rating: 4.3,
                icon: 'https://upload.wikimedia.org/wikipedia/commons/thumb/9/95/Instagram_logo_2022.svg/500px-Instagram_logo_2022.svg.png',
                screenshots: [
                    'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRy0fMD4VmphL2ll8krgqxAShHMWnyc8E2wsasDEKxp3weMxjAR6pj16sk&s=10',
                    'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcT_aZBVy-G8yOx_TSkh2hI13xx_b5A74PImcnVzBVyMNg&s=10',
                    'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcT_aZBVy-G8yOx_TSkh2hI13xx_b5A74PImcnVzBVyMNg&s=10'
                ],
                description: 'Instagram is a free photo and video sharing app available on iPhone and Android.',
                apkUrl: 'https://d.apkpure.com/b/XAPK/com.instagram.android?version=latest'
            },
            {
                id: 8,
                slug: 'tiktok',
                name: 'TikTok',
                developer: 'TikTok Ltd.',
                version: 'Latest',
                size: 120,
                downloads: '1B+',
                category: 'entertainment',
                rating: 4.2,
                icon: 'https://pnghdpro.com/wp-content/themes/pnghdpro/download/social-media-and-brands/tiktok-logo-icon.png',
                screenshots: [
                    'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQBVPCSPvOeTA20Ej7VF7I7hHVBToK8O3G0yKHz-iKAOkROWNn6xTjvNvs&s=10',
                    'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRKyZl5llMszp3F-_gTg-8ye2ilz4G8yvrO5QTTfwr-fr-4a1K0DMOCauE&s=10',
                    'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR0AyHUyrf1tCRWA4qEMVmdmglE-GUzuhwNiYmY9XFCzg&s=10'
                ],
                description: 'TikTok is THE destination for mobile videos. On TikTok, short-form videos are exciting, spontaneous, and genuine.',
                apkUrl: 'https://d.apkpure.com/b/APK/com.zhiliaoapp.musically?version=latest'
            },
            {
                id: 9,
                slug: 'telegram',
                name: 'Telegram',
                developer: 'Telegram FZ-LLC',
                version: 'Latest',
                size: 38,
                downloads: '500M+',
                category: 'social',
                rating: 4.5,
                icon: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS99MWHFEToaq2pSz1Ld0fec2Yxlfv88CYjPppHkBfHSw&s=10',
                screenshots: [
                    'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSA9BVnE4YENEzucQ0GWEy8I4tXarG66d4YaWU5RV9VQuZTEArJlBZoHU8&s=10',
                    'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcT0tCqsXwrSnxfZPN383HM1idJjtccwH48n9Q7qUWwloJCuC9JHd-kil0M&s=10',
                    'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRabxJueUt_XUDjbYoevWj0gASciXakh6Vmay39Fy9KFw&s=10'
                ],
                description: 'Telegram is a messaging app with a focus on speed and security, it\'s super-fast, simple and free.',
                apkUrl: 'https://d.apkpure.com/b/APK/org.telegram.messenger?version=latest'
            },
            {
                id: 10,
                slug: 'youtube',
                name: 'YouTube',
                developer: 'Google LLC',
                version: 'Latest',
                size: 55,
                downloads: '5B+',
                category: 'entertainment',
                rating: 4.4,
                icon: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTBUBQfUCL7bvNw9BjFX-N6KLVB3WmvFPj0MYzxSC4Qjw&s=10',
                screenshots: [
                    'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR-i0Q7uNRB6iWW-1Mpv_HWjhQtaOzby6zTwr74zYItnA&s=10',
                    'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS9F1hGdy94hQPAIaZ0iHEBV3l4L2ZlsnpKjkMHPnAHOw&s=10',
                    'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS4jgP0xL1oza4ABMHCSGFsVhQMYkxdiHrlRksrJLiUhacdjWGY3kA-Ayk&s=10'
                ],
                description: 'Get the official YouTube app for Android phones and tablets. See what the world is watching.',
                apkUrl: 'https://d.apkpure.com/b/APK/com.google.android.youtube?version=latest'
            },
            {
                id: 11,
                slug: 'whatsapp',
                name: 'WhatsApp Messenger',
                developer: 'WhatsApp Inc.',
                version: 'Latest',
                size: 42,
                downloads: '5B+',
                category: 'social',
                rating: 4.5,
                icon: 'https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg',
                screenshots: ['S1', 'S2', 'S3'],
                description: 'WhatsApp from Facebook is a FREE messaging and video calling app. It\'s used by over 2B people in more than 180 countries.',
                apkUrl: 'https://d.apkpure.com/b/APK/com.whatsapp?version=latest'
            },
            {
                id: 12,
                slug: 'spotify',
                name: 'Spotify: Music and Podcasts',
                developer: 'Spotify Ltd.',
                version: 'Latest',
                size: 45,
                downloads: '500M+',
                category: 'entertainment',
                rating: 4.4,
                icon: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQa_RECC8adEaPc5ssrxaDwFYL02VeIDz2O4cNKj6T1Bg&s=10',
                screenshots: ['S1', 'S2', 'S3'],
                description: 'With Spotify, you have access to a world of free music, curated playlists, artists, and podcasts you love.',
                apkUrl: 'https://d.apkpure.com/b/APK/com.spotify.music?version=latest'
            },
            {
                id: 13,
                slug: 'snapchat',
                name: 'Snapchat',
                developer: 'Snap Inc',
                version: 'Latest',
                size: 85,
                downloads: '1B+',
                category: 'social',
                rating: 4.1,
                icon: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcScSti0O4QyVry33dC4i3ZMuuo0lPStxS_EpqFuoduMWA&s=10',
                screenshots: ['S1', 'S2', 'S3'],
                description: 'Snapchat is a fast and fun way to share the moment with your friends and family.',
                apkUrl: 'https://d.apkpure.com/b/APK/com.snapchat.android?version=latest'
            },
            {
                id: 14,
                slug: 'pdf-reader',
                name: 'PDF Reader',
                developer: 'PDF Solutions',
                version: '5.2.1',
                size: 28,
                downloads: '100M+',
                category: 'tools',
                rating: 4.2,
                icon: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTG7gn5mmTnMag9klqyU48kDA8X7JeqUn9FPRVJmT-Bkg&s=10',
                screenshots: ['S1', 'S2', 'S3'],
                description: 'A powerful PDF reader with annotation tools, form filling, and cloud storage integration.',
                apkUrl: 'https://d.apkpure.com/b/APK/com.adobe.reader?version=latest'
            },
            {
                id: 15,
                slug: 'duolingo',
                name: 'Duolingo: Language Learning',
                developer: 'Duolingo',
                version: 'Latest',
                size: 35,
                downloads: '500M+',
                category: 'education',
                rating: 4.7,
                icon: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSg_t7YXIUovlg5994-Hr1KKxwE8-Gw6NB_hNQpMQ2v4g&s=10',
                screenshots: ['S1', 'S2', 'S3'],
                description: 'Learn a new language with the world\'s most-downloaded education app! Duolingo is the fun, free app for learning 40+ languages through quick, bite-sized lessons.',
                apkUrl: 'https://d.apkpure.com/b/APK/com.duolingo?version=latest'
            },
            {
                id: 16,
                slug: 'calculator',
                name: 'Calculator Pro',
                developer: 'Calculator Inc.',
                version: '3.2.1',
                size: 12,
                downloads: '50M+',
                category: 'tools',
                rating: 4.1,
                icon: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTfB6qPKJwQXhC93aVN6qG-YPFQT99KyrX_VuPfQfTPDQ&s',
                screenshots: ['S1', 'S2', 'S3'],
                description: 'A powerful calculator with scientific functions, unit conversions, and history tracking.',
                apkUrl: 'https://d.apkpure.com/b/APK/com.google.android.calculator?version=latest'
            },
            {
                id: 17,
                slug: 'fitness-tracker',
                name: 'Fitness Tracker Pro',
                developer: 'Health & Fitness Co.',
                version: '2.5.7',
                size: 45,
                downloads: '10M+',
                category: 'health',
                rating: 4.4,
                icon: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSwEmV_WNXkA77oyu7TJS55oWNfQw8ItJE_L53K9E_kDQ&s=10',
                screenshots: ['S1', 'S2', 'S3'],
                description: 'Track your workouts, monitor your health metrics, and achieve your fitness goals with our comprehensive fitness app.',
                apkUrl: 'https://d.apkpure.com/b/APK/com.google.android.apps.fitness?version=latest'
            },
            {
                id: 18,
                slug: 'music-player',
                name: 'Music Player Pro',
                developer: 'Audio Solutions',
                version: '4.1.2',
                size: 25,
                downloads: '50M+',
                category: 'entertainment',
                rating: 4.3,
                icon: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQFJkrFiM1-iPdkgGkshiFdFc2Gus-us4gK7a5IJBZNqw&s=10',
                screenshots: ['S1', 'S2', 'S3'],
                description: 'A feature-rich music player with equalizer, playlist management, and support for all audio formats.',
                apkUrl: 'https://d.apkpure.com/b/APK/com.maxmpz.audioplayer?version=latest'
            },
            {
                id: 19,
                slug: 'calendar',
                name: 'Calendar Pro',
                developer: 'Productivity Tools',
                version: '6.2.1',
                size: 18,
                downloads: '100M+',
                category: 'productivity',
                rating: 4.2,
                icon: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQUoeVKm2RHKJl5WAN2S95-pcHWDE3SuqkskeBn0sWS_A&s=10',
                screenshots: ['S1', 'S2', 'S3'],
                description: 'Stay organized with our smart calendar app featuring event reminders, task management, and calendar sync.',
                apkUrl: 'https://d.apkpure.com/b/APK/com.google.android.calendar?version=latest'
            },
            {
                id: 20,
                slug: 'cleaner',
                name: 'Phone Cleaner',
                developer: 'System Tools',
                version: '3.5.2',
                size: 22,
                downloads: '100M+',
                category: 'tools',
                rating: 4.0,
                icon: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQUoeVKm2RHKJl5WAN2S95-pcHWDE3SuqkskeBn0sWS_A&s=10',
                screenshots: ['S1', 'S2', 'S3'],
                description: 'Clean junk files, boost performance, and optimize your device with our powerful cleaning app.',
                apkUrl: 'https://d.apkpure.com/b/APK/com.cleanmaster.mguard?version=latest'
            },
            {
                id: 21,
                slug: 'weather',
                name: 'Weather Pro',
                developer: 'Weather Solutions',
                version: '5.1.3',
                size: 15,
                downloads: '50M+',
                category: 'tools',
                rating: 4.3,
                icon: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQeiQNUePWW2DP_rN9nviHZu0JNw8KtDzBNNddpoL1Tog&s=10',
                screenshots: ['S1', 'S2', 'S3'],
                description: 'Accurate weather forecasts, severe weather alerts, and beautiful weather maps in one app.',
                apkUrl: 'https://d.apkpure.com/b/APK/com.accuweather.android?version=latest'
            },
            {
                id: 22,
                slug: 'antivirus',
                name: 'Mobile Antivirus',
                developer: 'Security Solutions',
                version: '8.2.1',
                size: 35,
                downloads: '50M+',
                category: 'tools',
                rating: 4.5,
                icon: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRpEMwuG9AXMUIedwH6Fg6qn-cGRkH79_MrPi1qYNPXYw&s=10',
                screenshots: ['S1', 'S2', 'S3'],
                description: 'Protect your device from viruses, malware, and online threats with our comprehensive security app.',
                apkUrl: 'https://d.apkpure.com/b/APK/com.antivirus?version=latest'
            },
            {
                id: 23,
                slug: 'photo-editor',
                name: 'Photo Editor Pro',
                developer: 'Creative Tools',
                version: '7.3.2',
                size: 65,
                downloads: '100M+',
                category: 'tools',
                rating: 4.6,
                icon: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQvEht_GvouDJ2BBlKWLpVKBAY2trBWef-EXb7HGbyeyA&s=10',
                screenshots: ['S1', 'S2', 'S3'],
                description: 'Professional photo editing tools, filters, and effects to enhance your photos and create stunning visuals.',
                apkUrl: 'https://d.apkpure.com/b/APK/com.polarr.photoeditor?version=latest'
            }
        ];

        // Generate more apps
        for (let i = 24; i <= 50; i++) {
            const categories = ['games', 'social', 'tools', 'productivity', 'entertainment'];
            const names = [
                'Video Editor Pro', 'File Manager', 'VPN Secure', 'Browser Pro', 
                'Email Client', 'Notes App', 'Budget Tracker', 'Recipe Book',
                'Meditation Guide', 'Sleep Tracker', 'News Reader', 'Podcast App',
                'Shopping Assistant', 'Travel Planner', 'Language Translator'
            ];
            
            const category = categories[Math.floor(Math.random() * categories.length)];
            const name = names[Math.floor(Math.random() * names.length)] + ' ' + (Math.floor(Math.random() * 10) + 1);
            const slug = name.toLowerCase().replace(/\s+/g, '-').replace(/[^\w-]+/g, '');
            
            apps.push({
                id: i,
                slug: slug,
                name: name,
                developer: 'Developer ' + i,
                version: `${Math.floor(Math.random() * 5) + 1}.${Math.floor(Math.random() * 10)}.${Math.floor(Math.random() * 100)}`,
                size: Math.floor(Math.random() * 200) + 10,
                downloads: (Math.floor(Math.random() * 900) + 100) + 'M+',
                category: category,
                rating: (Math.random() * 1.5 + 3.5).toFixed(1),
                icon: 'https://via.placeholder.com/120x120/2F2F2F/FFFFFF?text=' + name.charAt(0),
                screenshots: ['S1', 'S2', 'S3'],
                description: `This is a description for ${name}. It's a great app in the ${category} category with amazing features.`,
                apkUrl: 'https://d.apkpure.com/b/APK/com.example.app?version=latest'
            });
        }

        // ===== CATEGORIES DATA =====
        const categories = [
            { 
                id: 'games', 
                name: 'Games', 
                icon: `<svg width="32" height="32" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M21 6H3C1.89543 6 1 6.89543 1 8V16C1 17.1046 1.89543 18 3 18H21C22.1046 18 23 17.1046 23 16V8C23 6.89543 22.1046 6 21 6Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M15 12C15 13.6569 13.6569 15 12 15C10.3431 15 9 13.6569 9 12C9 10.3431 10.3431 9 12 9C13.6569 9 15 10.3431 15 12Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M5 10H5.01" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M5 14H5.01" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M19 10H19.01" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M19 14H19.01" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>`
            },
            { 
                id: 'social', 
                name: 'Social', 
                icon: `<svg width="32" height="32" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M17 21V19C17 17.9391 16.5786 16.9217 15.8284 16.1716C15.0783 15.4214 14.0609 15 13 15H5C3.93913 15 2.92172 15.4214 2.17157 16.1716C1.42143 16.9217 1 17.9391 1 19V21" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M9 11C11.2091 11 13 9.20914 13 7C13 4.79086 11.2091 3 9 3C6.79086 3 5 4.79086 5 7C5 9.20914 6.79086 11 9 11Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M23 21V19C22.9993 18.1137 22.7044 17.2528 22.1614 16.5523C21.6184 15.8519 20.8581 15.3516 20 15.13" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M16 3.13C16.8604 3.35031 17.623 3.85071 18.1676 4.55232C18.7122 5.25392 19.0078 6.11683 19.0078 7.005C19.0078 7.89318 18.7122 8.75608 18.1676 9.45769C17.623 10.1593 16.8604 10.6597 16 10.88" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>`
            },
            { 
                id: 'tools', 
                name: 'Tools', 
                icon: `<svg width="32" height="32" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M14.7 6.3C14.5168 6.48697 14.4141 6.73823 14.4141 7C14.4141 7.26177 14.5168 7.51303 14.7 7.7L16.3 9.3C16.486 9.48324 16.7372 9.58594 16.999 9.58594C17.2608 9.58594 17.512 9.48324 17.699 9.3L21.47 5.53C21.9728 6.6412 22.1251 7.87923 21.9065 9.07915C21.6879 10.2791 21.1087 11.3839 20.2463 12.2463C19.3839 13.1087 18.2791 13.6879 17.0792 13.9065C15.8792 14.1251 14.6412 13.9728 13.53 13.47L6.62 20.38C6.22226 20.7777 5.68261 21 5.12 21C4.55739 21 4.01774 20.7777 3.62 20.38C3.22226 19.9823 3 19.4426 3 18.88C3 18.3174 3.22226 17.7777 3.62 17.38L10.53 10.47C10.0272 9.3588 9.87488 8.12077 10.0935 6.92085C10.3121 5.72093 10.8913 4.61614 11.7537 3.75372C12.6161 2.8913 13.7209 2.31208 14.9209 2.09354C16.1208 1.875 17.3588 2.02723 18.47 2.53L14.71 6.29L14.7 6.3Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>`
            },
            { 
                id: 'productivity', 
                name: 'Productivity', 
                icon: `<svg width="32" height="32" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M9 5H7C6.46957 5 5.96086 5.21071 5.58579 5.58579C5.21071 5.96086 5 6.46957 5 7V19C5 19.5304 5.21071 20.0391 5.58579 20.4142C5.96086 20.7893 6.46957 21 7 21H17C17.5304 21 18.0391 20.7893 18.4142 20.4142C18.7893 20.0391 19 19.5304 19 19V7C19 6.46957 18.7893 5.96086 18.4142 5.58579C18.0391 5.21071 17.5304 5 17 5H15" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M9 5C9 4.46957 9.21071 3.96086 9.58579 3.58579C9.96086 3.21071 10.4696 3 11 3H13C13.5304 3 14.0391 3.21071 14.4142 3.58579C14.7893 3.21071 15.297 3 15.828 3C16.359 3 16.8678 3.21071 17.2429 3.58579C17.618 3.96086 17.8287 4.46957 17.8287 5C17.8287 5.53043 17.618 6.03914 17.2429 6.41421C16.8678 6.78929 16.359 7 15.828 7H13C12.4696 7 11.9609 6.78929 11.5858 6.41421C11.2107 6.03914 11 5.53043 11 5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M9 12H15" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M9 16H15" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>`
            },
            { 
                id: 'entertainment', 
                name: 'Entertainment', 
                icon: `<svg width="32" height="32" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M19 4H5C3.89543 4 3 4.89543 3 6V18C3 19.1046 3.89543 20 5 20H19C20.1046 20 21 19.1046 21 18V6C21 4.89543 20.1046 4 19 4Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M16 2V6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M8 2V6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M3 10H21" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M8 14H8.01" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M12 14H12.01" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M16 14H16.01" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M8 18H8.01" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M12 18H12.01" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M16 18H16.01" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>`
            },
            { 
                id: 'education', 
                name: 'Education', 
                icon: `<svg width="32" height="32" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M12 14C14.2091 14 16 12.2091 16 10C16 7.79086 14.2091 6 12 6C9.79086 6 8 7.79086 8 10C8 12.2091 9.79086 14 12 14Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M4 20V18C4 16.9391 4.42143 15.9217 5.17157 15.1716C5.92172 14.4214 6.93913 14 8 14H16C17.0609 14 18.0783 14.4214 18.8284 15.1716C19.5786 15.9217 20 16.9391 20 18V20" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M12 14V18" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M12 18V22" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>`
            },
            { 
                id: 'music', 
                name: 'Music', 
                icon: `<svg width="32" height="32" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M9 18V5L21 3V16" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M6 21C7.65685 21 9 19.6569 9 18C9 16.3431 7.65685 15 6 15C4.34315 15 3 16.3431 3 12C3 13.6569 4.34315 15 6 15Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M18 19C19.6569 19 21 17.6569 21 16C21 14.3431 19.6569 13 18 13C16.3431 13 15 14.3431 15 16C15 17.6569 16.3431 19 18 19Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>`
            },
            { 
                id: 'photo', 
                name: 'Photo & Video', 
                icon: `<svg width="32" height="32" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M23 19C23 19.5304 22.7893 20.0391 22.4142 20.4142C22.0391 20.7893 21.5304 21 21 21H3C2.46957 21 1.96086 20.7893 1.58579 20.4142C1.21071 20.0391 1 19.5304 1 19V8C1 7.46957 1.21071 6.96086 1.58579 6.58579C1.96086 6.21071 2.46957 6 3 6H7L9 3H15L17 6H21C21.5304 6 22.0391 6.21071 22.4142 6.58579C22.7893 6.96086 23 7.46957 23 8V19Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M12 17C14.2091 17 16 15.2091 16 13C16 10.7909 14.2091 9 12 9C9.79086 9 8 10.7909 8 13C8 15.2091 9.79086 17 12 17Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>`
            },
            { 
                id: 'shopping', 
                name: 'Shopping', 
                icon: `<svg width="32" height="32" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M6 2L3 6V20C3 20.5304 3.21071 21.0391 3.58579 21.4142C3.96086 21.7893 4.46957 22 5 22H19C19.5304 22 20.0391 21.7893 20.4142 21.4142C20.7893 21.0391 21 20.5304 21 20V6L18 2H6Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M3 6H21" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M16 10C16 11.0609 15.5786 12.0783 14.8284 12.8284C14.0783 13.5786 13.0609 14 12 14C10.9391 14 9.92172 13.5786 9.17157 12.8284C8.42143 12.0783 8 11.0609 8 10" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>`
            }
        ];

        // ===== STATE MANAGEMENT =====
        let currentView = 'home';
        let currentApp = null;
        let currentCategory = null;
        let user = null;
        let favorites = JSON.parse(localStorage.getItem('favorites')) || [];
        let downloadHistory = JSON.parse(localStorage.getItem('downloadHistory')) || [];
        let searchHistory = JSON.parse(localStorage.getItem('searchHistory')) || [];
        let isSignUpMode = false;

        // ===== DOM ELEMENTS =====
        const views = document.querySelectorAll('.view');
        const navItems = document.querySelectorAll('.nav-item');
        const splashScreen = document.getElementById('splash');
        const searchInput = document.getElementById('search-input');
        const cancelSearch = document.getElementById('cancel-search');
        const searchResults = document.getElementById('search-results');
        const historyItems = document.getElementById('history-items');
        const shareBtn = document.getElementById('share-btn');
        const authModal = document.getElementById('auth-modal');
        const installModal = document.getElementById('install-modal');
        const updateModal = document.getElementById('update-modal');

        // ===== INITIALIZATION =====
        document.addEventListener('DOMContentLoaded', function() {
            // Hide splash screen after 2 seconds
            setTimeout(() => {
                splashScreen.style.opacity = '0';
                setTimeout(() => {
                    splashScreen.style.display = 'none';
                }, 500);
            }, 2000);

            // Initialize views
            renderHome();
            renderCategories();
            setupEventListeners();
            handleRouting();
            setupFirebaseAuth();

            // Show update modal randomly (for demo)
            if (Math.random() > 0.7) {
                setTimeout(() => {
                    updateModal.classList.add('active');
                }, 3000);
            }
        });

        // ===== FIREBASE AUTH SETUP =====
        function setupFirebaseAuth() {
            if (window.firebaseAuth) {
                window.firebaseAuth.onAuthStateChanged((user) => {
                    if (user) {
                        // User is signed in
                        setUser(user);
                    } else {
                        // User is signed out
                        setUser(null);
                    }
                });
            }
        }

        function setUser(firebaseUser) {
            if (firebaseUser) {
                user = {
                    uid: firebaseUser.uid,
                    name: firebaseUser.displayName || firebaseUser.email.split('@')[0],
                    email: firebaseUser.email,
                    photoURL: firebaseUser.photoURL
                };
                updateProfile();
            } else {
                user = null;
                updateProfile();
            }
        }

        // ===== RENDERING FUNCTIONS =====
        function renderHome() {
            renderCarousel('popular-carousel', apps.slice(0, 5));
            renderAppsGrid('recommended-apps', apps.slice(5, 13));
            renderAppsGrid('trending-apps', apps.slice(13, 21));
            renderHomeCategories();
        }

        function renderCarousel(containerId, apps) {
            const container = document.getElementById(containerId);
            container.innerHTML = apps.map(app => `
                <div class="carousel-item" data-app-id="${app.id}">
                    <div class="carousel-image">
                        <img src="${app.icon}" alt="${app.name}" onerror="this.src='https://via.placeholder.com/280x160/2F2F2F/FFFFFF?text=${app.name.charAt(0)}'">
                    </div>
                    <div class="carousel-content">
                        <h3>${app.name}</h3>
                        <p>${app.developer}</p>
                    </div>
                </div>
            `).join('');
        }

        function renderAppsGrid(containerId, apps) {
            const container = document.getElementById(containerId);
            container.innerHTML = apps.map(app => `
                <div class="app-card" data-app-id="${app.id}">
                    <div class="app-icon">
                        <img src="${app.icon}" alt="${app.name}" onerror="this.src='https://via.placeholder.com/120x120/2F2F2F/FFFFFF?text=${app.name.charAt(0)}'">
                    </div>
                    <div class="app-info">
                        <div class="app-name">${app.name}</div>
                        <div class="app-developer">${app.developer}</div>
                        <div class="app-rating">
                            <span class="stars">${generateStars(app.rating)}</span>
                            <span class="rating-value">${app.rating}</span>
                        </div>
                        <button class="download-btn" data-app-id="${app.id}">Download</button>
                    </div>
                </div>
            `).join('');
        }

        function renderHomeCategories() {
            const container = document.getElementById('home-categories');
            container.innerHTML = categories.slice(0, 6).map(category => `
                <div class="category-card" data-category="${category.id}">
                    <div class="category-icon">${category.icon}</div>
                    <div class="category-name">${category.name}</div>
                </div>
            `).join('');
        }

        function renderCategories() {
            const container = document.getElementById('all-categories');
            container.innerHTML = categories.map(category => `
                <div class="category-card" data-category="${category.id}">
                    <div class="category-icon">${category.icon}</div>
                    <div class="category-name">${category.name}</div>
                </div>
            `).join('');
        }

        function renderAppDetails(app) {
            const container = document.getElementById('app-details');
            const isFavorite = favorites.includes(app.id);
            
            container.innerHTML = `
                <div class="app-header">
                    <div class="app-large-icon">
                        <img src="${app.icon}" alt="${app.name}" onerror="this.src='https://via.placeholder.com/80x80/2F2F2F/FFFFFF?text=${app.name.charAt(0)}'">
                    </div>
                    <div class="app-header-info">
                        <div class="app-title">${app.name}</div>
                        <div class="app-developer-badge">
                            <span>${app.developer}</span>
                            <span class="verified-badge">âœ“</span>
                        </div>
                        <div class="app-meta">
                            <span>â­ ${app.rating}</span>
                            <span>ðŸ“¥ ${app.downloads}</span>
                            <span>${app.category}</span>
                        </div>
                        <button class="install-btn" data-app-id="${app.id}">INSTALL</button>
                    </div>
                    <button class="favorite-btn ${isFavorite ? 'active' : ''}" data-app-id="${app.id}">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="${isFavorite ? 'currentColor' : 'none'}" xmlns="http://www.w3.org/2000/svg">
                            <path d="M20.84 4.61C20.3292 4.099 19.7228 3.69364 19.0554 3.41708C18.3879 3.14052 17.6725 2.99817 16.95 2.99817C16.2275 2.99817 15.5121 3.14052 14.8446 3.41708C14.1772 3.69364 13.5708 4.099 13.06 4.61L12 5.67L10.94 4.61C9.9083 3.5783 8.50903 2.9987 7.05 2.9987C5.59096 2.9987 4.19169 3.5783 3.16 4.61C2.1283 5.64169 1.5487 7.04097 1.5487 8.5C1.5487 9.95903 2.1283 11.3583 3.16 12.39L4.22 13.45L12 21.23L19.78 13.45L20.84 12.39C21.351 11.8792 21.7563 11.2728 22.0329 10.6053C22.3095 9.93789 22.4518 9.22248 22.4518 8.5C22.4518 7.77752 22.3095 7.06211 22.0329 6.39465C21.7563 5.72719 21.351 5.12076 20.84 4.61V4.61Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </button>
                </div>
                <div class="app-screenshots">
                    <h3>Screenshots</h3>
                    <div class="screenshots-scroll">
                        ${app.screenshots.map((screenshot, index) => `
                            <div class="screenshot">
                                <img src="${screenshot}" alt="Screenshot ${index + 1}" onerror="this.innerHTML='Screenshot ${index + 1}'">
                            </div>
                        `).join('')}
                    </div>
                </div>
                <div class="app-description">
                    <h3>Description</h3>
                    <p>${app.description}</p>
                </div>
                <div class="app-info-details">
                    <div class="info-row">
                        <span class="info-label">Version</span>
                        <span>${app.version}</span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">Size</span>
                        <span>${app.size} MB</span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">Updated</span>
                        <span>${new Date().toLocaleDateString()}</span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">Requires Android</span>
                        <span>5.0 and up</span>
                    </div>
                </div>
                <div class="app-reviews">
                    <h3>Reviews</h3>
                    <div class="review">
                        <div class="review-header">
                            <span class="reviewer">John Doe</span>
                            <span class="review-date">2 days ago</span>
                        </div>
                        <div class="stars">â˜…â˜…â˜…â˜…â˜…</div>
                        <div class="review-content">Great app! Very useful and easy to use.</div>
                    </div>
                    <div class="review">
                        <div class="review-header">
                            <span class="reviewer">Jane Smith</span>
                            <span class="review-date">1 week ago</span>
                        </div>
                        <div class="stars">â˜…â˜…â˜…â˜…â˜†</div>
                        <div class="review-content">Good app but could use some improvements.</div>
                    </div>
                </div>
            `;
            shareBtn.classList.remove('hidden');
        }

        function renderCategoryApps(categoryId) {
            const categoryApps = apps.filter(app => app.category === categoryId);
            const container = document.getElementById('category-apps-grid');
            const title = document.getElementById('category-title');
            
            const category = categories.find(c => c.id === categoryId);
            title.innerHTML = `<span>${category.name}</span>`;
            
            renderAppsGrid('category-apps-grid', categoryApps);
        }

        function renderSearchResults(query) {
            const filteredApps = apps.filter(app => 
                app.name.toLowerCase().includes(query.toLowerCase()) ||
                app.developer.toLowerCase().includes(query.toLowerCase()) ||
                app.description.toLowerCase().includes(query.toLowerCase())
            );
            
            if (filteredApps.length > 0) {
                searchResults.innerHTML = `
                    <div class="section-title">
                        <span>Search Results for "${query}"</span>
                    </div>
                    <div class="apps-grid">
                        ${filteredApps.map(app => `
                            <div class="app-card" data-app-id="${app.id}">
                                <div class="app-icon">
                                    <img src="${app.icon}" alt="${app.name}" onerror="this.src='https://via.placeholder.com/120x120/2F2F2F/FFFFFF?text=${app.name.charAt(0)}'">
                                </div>
                                <div class="app-info">
                                    <div class="app-name">${app.name}</div>
                                    <div class="app-developer">${app.developer}</div>
                                    <div class="app-rating">
                                        <span class="stars">${generateStars(app.rating)}</span>
                                        <span class="rating-value">${app.rating}</span>
                                    </div>
                                    <button class="download-btn" data-app-id="${app.id}">Download</button>
                                </div>
                            </div>
                        `).join('')}
                    </div>
                `;
            } else {
                searchResults.innerHTML = `
                    <div class="text-center mt-16">
                        <h3>No results found for "${query}"</h3>
                        <p>Try different keywords</p>
                    </div>
                `;
            }
        }

        function renderSearchHistory() {
            if (searchHistory.length > 0) {
                historyItems.innerHTML = searchHistory.map(term => `
                    <div class="history-item" data-search-term="${term}">${term}</div>
                `).join('');
            } else {
                document.getElementById('search-history').classList.add('hidden');
            }
        }

        function renderTopSearches() {
            const topSearches = ['WhatsApp', 'Instagram', 'Games', 'Facebook', 'TikTok', 'Spotify'];
            const container = document.getElementById('top-searches-list');
            
            container.innerHTML = topSearches.map((term, index) => `
                <div class="top-search-item" data-search-term="${term}">
                    <div class="search-rank">${index + 1}</div>
                    <div>${term}</div>
                    <div>â†’</div>
                </div>
            `).join('');
        }

        function renderFavorites() {
            const favoriteApps = apps.filter(app => favorites.includes(app.id));
            const container = document.getElementById('favorites-grid');
            
            if (favoriteApps.length > 0) {
                renderAppsGrid('favorites-grid', favoriteApps);
            } else {
                container.innerHTML = `
                    <div class="text-center mt-16">
                        <h3>No favorites yet</h3>
                        <p>Start adding apps to your favorites!</p>
                    </div>
                `;
            }
        }

        function renderDownloadHistory() {
            const historyApps = apps.filter(app => downloadHistory.includes(app.id));
            const container = document.getElementById('history-grid');
            
            if (historyApps.length > 0) {
                renderAppsGrid('history-grid', historyApps);
            } else {
                container.innerHTML = `
                    <div class="text-center mt-16">
                        <h3>No download history</h3>
                        <p>Apps you download will appear here</p>
                    </div>
                `;
            }
        }

        // ===== UTILITY FUNCTIONS =====
        function generateStars(rating) {
            const fullStars = Math.floor(rating);
            const halfStar = rating % 1 >= 0.5;
            const emptyStars = 5 - fullStars - (halfStar ? 1 : 0);
            
            return 'â˜…'.repeat(fullStars) + (halfStar ? 'Â½' : '') + 'â˜†'.repeat(emptyStars);
        }

        function showView(viewName) {
            views.forEach(view => view.classList.remove('active'));
            document.getElementById(viewName).classList.add('active');
            currentView = viewName;
            
            // Update navigation
            navItems.forEach(item => item.classList.remove('active'));
            document.querySelector(`.nav-item[data-view="${viewName}"]`).classList.add('active');
            
            // Hide share button if not on app details
            if (viewName !== 'app-details') {
                shareBtn.classList.add('hidden');
            }
            
            // Scroll to top
            window.scrollTo(0, 0);
        }

        function getAppById(id) {
            return apps.find(app => app.id === parseInt(id));
        }

        function getAppBySlug(slug) {
            return apps.find(app => app.slug === slug);
        }

        function addToSearchHistory(term) {
            if (!searchHistory.includes(term)) {
                searchHistory.unshift(term);
                if (searchHistory.length > 5) {
                    searchHistory.pop();
                }
                localStorage.setItem('searchHistory', JSON.stringify(searchHistory));
                renderSearchHistory();
            }
        }

        function simulateInstallation(app) {
            const installProgress = document.getElementById('install-progress');
            const installText = document.getElementById('install-text');
            const installAppIcon = document.getElementById('install-app-icon');
            const installAppName = document.getElementById('install-app-name');
            
            installAppIcon.innerHTML = `<img src="${app.icon}" alt="${app.name}" onerror="this.src='https://via.placeholder.com/40x40/2F2F2F/FFFFFF?text=${app.name.charAt(0)}'">`;
            installAppName.textContent = app.name;
            
            let progress = 0;
            const interval = setInterval(() => {
                progress += Math.random() * 10;
                if (progress >= 100) {
                    progress = 100;
                    clearInterval(interval);
                    installText.textContent = 'Installation complete!';
                    
                    setTimeout(() => {
                        installModal.classList.remove('active');
                        
                        // Add to download history
                        if (!downloadHistory.includes(app.id)) {
                            downloadHistory.unshift(app.id);
                            if (downloadHistory.length > 50) {
                                downloadHistory.pop();
                            }
                            localStorage.setItem('downloadHistory', JSON.stringify(downloadHistory));
                        }
                        
                        // For direct download, we'll create a blob and trigger download
                        // In a real implementation, you would serve the actual APK files
                        const blob = new Blob(['Simulated APK file content'], {type: 'application/vnd.android.package-archive'});
                        const url = URL.createObjectURL(blob);
                        const a = document.createElement('a');
                        a.href = url;
                        a.download = `${app.slug}.apk`;
                        document.body.appendChild(a);
                        a.click();
                        document.body.removeChild(a);
                        URL.revokeObjectURL(url);
                    }, 1000);
                } else {
                    installText.textContent = `Installing... ${Math.round(progress)}%`;
                }
                installProgress.style.width = `${progress}%`;
            }, 200);
        }

        function toggleFavorite(appId) {
            const index = favorites.indexOf(appId);
            if (index > -1) {
                favorites.splice(index, 1);
            } else {
                favorites.push(appId);
            }
            localStorage.setItem('favorites', JSON.stringify(favorites));
            
            // Update favorite button if on app details page
            if (currentView === 'app-details' && currentApp && currentApp.id === appId) {
                const favoriteBtn = document.querySelector('.favorite-btn');
                if (favoriteBtn) {
                    favoriteBtn.classList.toggle('active');
                    const svg = favoriteBtn.querySelector('svg');
                    svg.setAttribute('fill', favorites.includes(appId) ? 'currentColor' : 'none');
                }
            }
        }

        // ===== ROUTING =====
        function handleRouting() {
            const urlParams = new URLSearchParams(window.location.search);
            const appSlug = urlParams.get('app');
            const category = urlParams.get('category');
            const admin = urlParams.get('admin');
            
            if (admin === 'loomasecret') {
                showView('admin');
                return;
            }
            
            if (appSlug) {
                const app = getAppBySlug(appSlug);
                if (app) {
                    currentApp = app;
                    renderAppDetails(app);
                    showView('app-details');
                    return;
                }
            }
            
            if (category) {
                currentCategory = category;
                renderCategoryApps(category);
                showView('category-apps');
                return;
            }
            
            // Default to home
            showView('home');
        }

        function updateURL(params) {
            const url = new URL(window.location);
            Object.keys(params).forEach(key => {
                if (params[key]) {
                    url.searchParams.set(key, params[key]);
                } else {
                    url.searchParams.delete(key);
                }
            });
            window.history.pushState({}, '', url);
        }

        // ===== EVENT LISTENERS =====
        function setupEventListeners() {
            // Navigation
            navItems.forEach(item => {
                item.addEventListener('click', function() {
                    const view = this.getAttribute('data-view');
                    showView(view);
                    updateURL({});
                });
            });

            // Search functionality
            document.getElementById('search-toggle').addEventListener('click', function() {
                showView('search');
                searchInput.focus();
                renderSearchHistory();
                renderTopSearches();
            });

            cancelSearch.addEventListener('click', function() {
                showView('home');
                searchInput.value = '';
            });

            searchInput.addEventListener('input', function() {
                const query = this.value.trim();
                if (query.length > 0) {
                    renderSearchResults(query);
                } else {
                    searchResults.innerHTML = '';
                }
            });

            searchInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    const query = this.value.trim();
                    if (query.length > 0) {
                        addToSearchHistory(query);
                    }
                }
            });

            // App interactions (delegated)
            document.addEventListener('click', function(e) {
                // App card click
                if (e.target.closest('.app-card')) {
                    const appCard = e.target.closest('.app-card');
                    const appId = appCard.getAttribute('data-app-id');
                    const app = getAppById(appId);
                    if (app) {
                        currentApp = app;
                        renderAppDetails(app);
                        showView('app-details');
                        updateURL({ app: app.slug });
                    }
                }
                
                // Category card click
                if (e.target.closest('.category-card')) {
                    const categoryCard = e.target.closest('.category-card');
                    const categoryId = categoryCard.getAttribute('data-category');
                    currentCategory = categoryId;
                    renderCategoryApps(categoryId);
                    showView('category-apps');
                    updateURL({ category: categoryId });
                }
                
                // Download button click
                if (e.target.classList.contains('download-btn')) {
                    e.stopPropagation();
                    const appId = e.target.getAttribute('data-app-id');
                    const app = getAppById(appId);
                    if (app) {
                        installModal.classList.add('active');
                        simulateInstallation(app);
                    }
                }
                
                // Install button click
                if (e.target.classList.contains('install-btn')) {
                    const appId = e.target.getAttribute('data-app-id');
                    const app = getAppById(appId);
                    if (app) {
                        installModal.classList.add('active');
                        simulateInstallation(app);
                    }
                }
                
                // Favorite button click
                if (e.target.classList.contains('favorite-btn') || e.target.closest('.favorite-btn')) {
                    const favoriteBtn = e.target.classList.contains('favorite-btn') ? e.target : e.target.closest('.favorite-btn');
                    const appId = favoriteBtn.getAttribute('data-app-id');
                    toggleFavorite(parseInt(appId));
                }
                
                // History item click
                if (e.target.classList.contains('history-item')) {
                    const term = e.target.getAttribute('data-search-term');
                    searchInput.value = term;
                    renderSearchResults(term);
                }
                
                // Top search item click
                if (e.target.closest('.top-search-item')) {
                    const topSearchItem = e.target.closest('.top-search-item');
                    const term = topSearchItem.getAttribute('data-search-term');
                    searchInput.value = term;
                    renderSearchResults(term);
                    addToSearchHistory(term);
                }
            });

            // Share button
            shareBtn.addEventListener('click', function() {
                if (currentApp) {
                    const url = `https://loomagpt.help/?app=${currentApp.slug}`;
                    if (navigator.share) {
                        navigator.share({
                            title: `Download ${currentApp.name}`,
                            text: `Check out ${currentApp.name} on LOOMA App Store`,
                            url: url
                        });
                    } else {
                        navigator.clipboard.writeText(url).then(() => {
                            alert('Link copied to clipboard!');
                        });
                    }
                }
            });

            // Profile menu
            document.getElementById('login-menu').addEventListener('click', function() {
                authModal.classList.add('active');
            });

            document.getElementById('favorites-menu').addEventListener('click', function() {
                renderFavorites();
                showView('favorites');
            });

            document.getElementById('history-menu').addEventListener('click', function() {
                renderDownloadHistory();
                showView('download-history');
            });

            // Auth modal
            document.getElementById('google-auth').addEventListener('click', function() {
                if (window.firebaseAuth) {
                    window.firebaseAuth.signInWithGoogle()
                        .then((result) => {
                            authModal.classList.remove('active');
                        })
                        .catch((error) => {
                            console.error('Google sign in error:', error);
                            alert('Failed to sign in with Google: ' + error.message);
                        });
                } else {
                    alert('Firebase auth not available');
                }
            });

            document.getElementById('github-auth').addEventListener('click', function() {
                if (window.firebaseAuth) {
                    window.firebaseAuth.signInWithGithub()
                        .then((result) => {
                            authModal.classList.remove('active');
                        })
                        .catch((error) => {
                            console.error('GitHub sign in error:', error);
                            alert('Failed to sign in with GitHub: ' + error.message);
                        });
                } else {
                    alert('Firebase auth not available');
                }
            });

            document.getElementById('email-auth').addEventListener('click', function() {
                document.getElementById('auth-options').style.display = 'none';
                document.getElementById('email-auth-form').style.display = 'flex';
            });

            document.getElementById('auth-switch').addEventListener('click', function() {
                isSignUpMode = !isSignUpMode;
                const submitBtn = document.getElementById('auth-submit');
                const switchText = document.getElementById('auth-switch');
                
                if (isSignUpMode) {
                    submitBtn.textContent = 'Sign Up';
                    switchText.textContent = 'Already have an account? Sign in';
                } else {
                    submitBtn.textContent = 'Login';
                    switchText.textContent = 'Don\'t have an account? Sign up';
                }
            });

            document.getElementById('auth-submit').addEventListener('click', function() {
                const email = document.getElementById('auth-email').value;
                const password = document.getElementById('auth-password').value;
                
                if (email && password) {
                    if (window.firebaseAuth) {
                        const authPromise = isSignUpMode ? 
                            window.firebaseAuth.signUpWithEmail(email, password) :
                            window.firebaseAuth.signInWithEmail(email, password);
                            
                        authPromise
                            .then((result) => {
                                authModal.classList.remove('active');
                                document.getElementById('auth-email').value = '';
                                document.getElementById('auth-password').value = '';
                            })
                            .catch((error) => {
                                console.error('Email auth error:', error);
                                alert('Authentication failed: ' + error.message);
                            });
                    } else {
                        alert('Firebase auth not available');
                    }
                }
            });

            // Update modal
            document.getElementById('update-now').addEventListener('click', function() {
                updateModal.classList.remove('active');
                alert('Update process would start here');
            });

            document.getElementById('update-later').addEventListener('click', function() {
                updateModal.classList.remove('active');
            });

            // Admin form
            document.getElementById('admin-form').addEventListener('submit', function(e) {
                e.preventDefault();
                
                const name = document.getElementById('admin-app-name').value;
                const developer = document.getElementById('admin-developer').value;
                const description = document.getElementById('admin-description').value;
                const category = document.getElementById('admin-category').value;
                const version = document.getElementById('admin-version').value;
                const size = document.getElementById('admin-size').value;
                const rating = document.getElementById('admin-rating').value;
                
                const slug = name.toLowerCase().replace(/\s+/g, '-').replace(/[^\w-]+/g, '');
                
                const newApp = {
                    id: apps.length + 1,
                    slug: slug,
                    name: name,
                    developer: developer,
                    version: version,
                    size: parseInt(size),
                    downloads: '0',
                    category: category,
                    rating: parseFloat(rating),
                    icon: 'https://via.placeholder.com/120x120/2F2F2F/FFFFFF?text=' + name.charAt(0),
                    screenshots: ['S1', 'S2', 'S3'],
                    description: description,
                    apkUrl: 'https://d.apkpure.com/b/APK/com.example.app?version=latest'
                };
                
                apps.push(newApp);
                alert(`App "${name}" added successfully!\nDownload link: https://loomagpt.help/?app=${slug}`);
                this.reset();
            });

            // Modal backgrounds to close modals
            [authModal, installModal, updateModal].forEach(modal => {
                modal.addEventListener('click', function(e) {
                    if (e.target === this) {
                        this.classList.remove('active');
                        // Reset auth form when closing
                        if (this.id === 'auth-modal') {
                            document.getElementById('auth-options').style.display = 'flex';
                            document.getElementById('email-auth-form').style.display = 'none';
                            document.getElementById('auth-email').value = '';
                            document.getElementById('auth-password').value = '';
                            isSignUpMode = false;
                            document.getElementById('auth-submit').textContent = 'Login';
                            document.getElementById('auth-switch').textContent = 'Don\'t have an account? Sign up';
                        }
                    }
                });
            });
        }

        function updateProfile() {
            const profileName = document.querySelector('.profile-name');
            const profileEmail = document.querySelector('.profile-email');
            const profileAvatar = document.querySelector('.profile-avatar');
            const loginMenu = document.getElementById('login-menu');
            
            if (user) {
                profileName.textContent = user.name;
                profileEmail.textContent = user.email;
                loginMenu.querySelector('div').textContent = 'Logout';
                
                // Update avatar if user has a photo
                if (user.photoURL) {
                    profileAvatar.innerHTML = `<img src="${user.photoURL}" alt="Profile" style="width: 100%; height: 100%; border-radius: 50%;">`;
                } else {
                    profileAvatar.innerHTML = user.name.charAt(0).toUpperCase();
                }
                
                // Change login menu to logout
                loginMenu.removeEventListener('click', openAuthModal);
                loginMenu.addEventListener('click', logoutUser);
            } else {
                profileName.textContent = 'Guest User';
                profileEmail.textContent = 'Tap to login';
                profileAvatar.innerHTML = `
                    <svg width="40" height="40" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M20 21V19C20 17.9391 19.5786 16.9217 18.8284 16.1716C18.0783 15.4214 17.0609 15 16 15H8C6.93913 15 5.92172 15.4214 5.17157 16.1716C4.42143 16.9217 4 17.9391 4 19V21" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M12 11C14.2091 11 16 9.20914 16 7C16 4.79086 14.2091 3 12 3C9.79086 3 8 4.79086 8 7C8 9.20914 9.79086 11 12 11Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                `;
                loginMenu.querySelector('div').textContent = 'Login / Register';
                
                // Change logout menu back to login
                loginMenu.removeEventListener('click', logoutUser);
                loginMenu.addEventListener('click', openAuthModal);
            }
        }

        function openAuthModal() {
            authModal.classList.add('active');
        }

        function logoutUser() {
            if (window.firebaseAuth) {
                window.firebaseAuth.signOut()
                    .then(() => {
                        console.log('User signed out');
                    })
                    .catch((error) => {
                        console.error('Sign out error:', error);
                    });
            }
        }

        // Handle browser back/forward buttons
        window.addEventListener('popstate', handleRouting);
    </script>
</body>
</html>
